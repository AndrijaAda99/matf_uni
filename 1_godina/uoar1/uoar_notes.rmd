---
title: Uvod u organizaciju racunara - beleske
author: Andrija Urosevic
output: pdf_document
header-includes:
    - \usepackage{tikz}
---

\tableofcontents

# Uvod

## Sta su racunarski sistemi?

* Informacione tehnologije
  * Razliciti fizicki uredjaji
    * Papir
    * Olovka
    * Knjiga
    * Racunar
  * Simbolickih alata
    * Pisani jezici
    * Matematicki simboli
    * Hemijski modeli
* Posle otkica pisma najznacajnija informaciona tehnologija je bila stampa
* Dok je to danas digitalna informaciona tehnologija
* Nezamislivo je efikasno poslovati i funkcionisati bez podrske informacionih 
  tehnologija

### Informacioni sistemi

* Primene u velikim drustvenim sistemima
  * Gradovi ili drzave
* Primene u poslovanju preduzeca
  * Pojava i jacanje globalne ekonomije
  * Transformacija industrijskih ekonomija
  * Transformacija poslovanja preduzeca

**Pojava globalne ekonomije**

* Veliki broj preduzeca u svetu zavisi na uvozu i izvozu
* Globalizacija svetske industrijske ekonomije povecava vredost informacija i 
  nudi nove mogucnosti za poslovanje
  * Komunikacione i analiticke mogucnosti
* Preduzeca su prinudjena da se takmice na svetskom trzistu
  * Da bi u tome uspeli potrebne su im kvalitetne informacije

**Transformacija industrijskih ekonomija**

* Iz industrijskih u post-industrijske
* Najveci broj zaposlenih radnika se bavi:
  * stvaranje
  * distrubucijom ili
  * radom sa novim saznanjima i informacijama
* Dve trecine dohotka donosi rad u ovim oblastima
* Ukoliko rukovotsktvo nije obuceno informacionim tehnologijama preduzece ima 
  manje sanse da uspe na trzistu

**Transfromacija poslovanja preduzeca**

* Tradicionalan nacin poslovanja
  * Hijrarhijski
  * Centralizovan
  * strukturan
* Novi nacin poslovanja (u razvoju):
  * Manje hijerarhijski
  * Decentralizovan
  * fleksibilna pravila koja zavise od trenutnih informacija

#### Sta je informacioni sistem?

* !Skup medjusobno povezanih komponenti koje prikupljaju, objedinjuju, cuvaju 
  i distribuiraju informacije.
* Informacioni sistemi sadrze:
  * informacije o ljudima
  * mestima
  * stvarima unutar neke organizacije
* !*Informacija* - formalna reprezentacija saznanja prihvatljivog za zive 
  organizme i masine.
* !*Podatak* - re-interpretabilna reprezentacija cinjenice ili ideja na 
  formalni nacin pogodan za komunikaciju, interpretaciju ili obradu
  * Operacije nad podacima mogu da vrse ljudi ili masine

#### Racunarski sistem kao deo informacionog sistema

* !Racunarski sistem predstavlja *tehnolosku podrsku* informacionim sistemima
* Aktivnosti racunarskih sistema se mogu smatrati kao komponente 
  informacionih sistema:
  * upotreba racunaskih sistema u:
    * instrazivackim centrima
    * skolama
    * vojsci
    * kucnoj upotrebi

### Racunarski sistemi

* !*Sistem* - skup ljudi, masina i metoda organizovanih radi ostvarivanja 
  funkcija.
* !*Racunaski sistem* - skup masina i pridruzenih metoda (u obliku softvera) 
  organizovanih radi vrsenja automatske obrade podataka
* Slozeni sistem sa hijerarhijskom strukturom
  * cine ga hijerarhijski podsistemi
  * na dnu se nalaze elektronske komponente
* !*Struktura* - nacin medjusobne povezanosti komponenta
* !*Funkcija* - nacin rada svake pojedinacne komponente kao dela strukture

#### Funkcije racunarskog sistema

* Postoje 4 osnovne funkcije:
  1. !**Prenost podataka**
     * *Ulazno-izlazne operacije (I/O)* - operacije za prenosenje podataka
     * *periferni uredjaji* - uredjaji koji vrse te I/O operacije
     * *komunikacioni prenos* - prenosenje podataka izmedju 2 uredjaja
     * *komunikacioni uredjaji* - uredjaji koji vrse komunikacione prenose
  2. !**Obrada podataka**
     * *procesor* - jedinica za obradu podataka
     * vrsi se pomocu fiksiranog broja razlicitih tipova podatka i metoda za obradu
  3. !**Cuvanje podataka**
     * *memorija* - mesto za cuvanje podataka
     * privremeno cuvanje radi tekuce obrade
     * dugotrajno cuvanje radi kasnije obrade
  4. !**Kontrola obavljanja prenosa, obrade i cuvanja podataka**
     * kontrolu vrse korisnici/upravljacka jedinica racunarskog sistema

![Funkcije/struktura racunarskog sistema](img/computer_system.png){width=450px}

#### Struktura racunarskog sistema

* Racunarski sistem je sastavljem on razlicitih komponenti:
  * !*Centralna jedinica za obradu* (CPU):
    * vrsi obradu podataka
    * kontrolise operacije koje se izvode u racunarskom sistemu
  * !*Unutrasnja i spoljasnja memorija*
    * cuvanje podataka
  * !*Ulazno/izlazni uredjanji*
    * prenos podataka izmedju racunarskog sistema i njegovog operatovno 
      okruzenja
  * !*Kanali veze* ili *magistrale*
    * prenos instrukcija i podataka izmedju procesora, ulazno/izlaznih i 
      komunikacionih uredjaja i memorije
  * !*Softver*
    * nadzor nad resursima sistema
    * interfejs izmedju korisnika i racunarskog sistema
    * *sistemski* i *aplikativni*

### Organizacija i arhitektura racunaskog sistema

* !*Arhitektura* racunarskog sistema - atributi sistema koji su vidljivi za 
  korisnika i koji direktno uticnu na logiku programa koji pise korisnik
  * skup instrukcija
  * format masinske reci
  * nacin predstavljanja podataka
* !*Organizacija* racunarskog sistema - veza izmedju operativnih delova 
  sistema
  * nivo tehnologije
  * nacin komunikacije
  * algoritmi testiranja ispravnosti
* Racunari grupisani po familijama
  * ista arhitektura, ali razlicita organizacija
* Ne postoji ostra granica

## Istorijat razvoja racunaskih sistema

* Kroz istoriju pojavljuju se novi alati za resavanje svakodnevnih problema
* Zbog toga se javljaju *informacione tehnologije*
  * postoji ulazni podataka
  * rezultat obrade se vraca korisniku
* Razvoj informacionih tehnologija moze se podeliti na 4 perioda:
  * premehanicki
  * mehanicki
  * elektromehanicki
  * mehanicki
* Koristila su se *kontinualna* i *diskretna* racunska sredstva

### Kontinualna i diskretna racunska sredstva

* !*Racunsko stedstvo* - pomagalo izradjeno u cilju izvrsavanja racunskih 
  operacija
* Nacini izvrsavanja operacija:
  1. **Rucni**
     * Kada covek rucno pokrece racunsko sredstvo i po zavrsetku ocitava 
       rezultat (siber)
  2. **Poluatomatski**
     * Kada se za zadate ulazne podatake automatski izvrsava pojedinacna 
       operacija
     * Podatke i operacije zadaje covek
     * Ocitava rezultate i odredjuje narednu operaciju
     * Razlicite vrste mehanickih ili lektronski kalkulatora 
       (kase, stoni kalkulatori)
  3. **Automatski**
     * kada masina izvrsava niz operacija koje su zadate programom
     * covek pise porgram i unosi ga u racunarsko sredstvo, koje automatski 
       izvrsava potreban broj operacija
     * Racunar
* U zavisnosti od fizickij princima racunarska sredstva se dele na 
  *kontinualna* i *diskretna*.

#### Kontinualna racunska sredstva

* Ideja:
  * !Potrebno je konstroisati racunarsko sredstvo ciji je matematicki model 
    ekvivalentan matematickom modelu problema koji se resava.
    * Komponente kontinualnog racunskog sredstva se medjusobno povezuju na 
      nacin analogan nekom realnom sistemu. (*analogna* sredstva)
    * Ulazno/izlazni podaci su predstavljeni preko (neprekidnih) fizickih 
      velicina
    * Operacije se izvode obradom tih velicina
* Kontinualno racunsko sredstvo moze biti:
  * *mehanicko*
    * I/O su izradjeni pomocu tockica ili zupcanika
  * *elektronsko*
    * I/O su izradjeni pomocu napona struje

**Primeri analognih racunskih sredstava**

1. *Antikitera mehanizam* (Rodos, 87. p.n.e.)
   * Koristio se za prikaz vremena izmedju pojavljivanja dva mlada meseca.
2. *Klizajuci lenjir* (Vilje Outred, 1622.)
3. *Diferencijalni analizator* (Vanevar Bus, 1931.)
   * Resava opste diferencijalne jednacine sestog reda
   * Izlaz je prikazan preko automatizovane stampe grafikona na ploterima
4. *Rokfelerov diferencijalni analizator* (Vanevar Bus, 1942.)
   * Ulazni podaci su ucitavani preko busenih kartica
   * 100 tona, 2000 vakuumskih cevi, 360km zice, 150 motora i 1000 releja
   * Resava opste diferencijalne jednacine sedmog reda
* Izvode matematike operacije nad kontinualnim promenljivim umesto koriscenja 
  cifara 
* Vrednost ulaznih promenljivih se izracunavala preko voltaze
  * od $-100V$ do $+100V$ 
    (negativna voltaza su negativno, pozitivna su pozitivni brojevi)
* Blokovi koji obavljaju osnovne aritmeticke operacije:
  * sabiranje, oduzimanje, mozenje, deljenje, inverzovanje i integracija
  * povezivanjem nastaju matematicke jednacine 
* Paralelna masina (istovremeno resava 1, 2 ili 1000 jednacina)
* Izlazni uredjaji su obivno voltmetar, osciloskop ili ploter
* !Opste karakteristike:
  1. Matematicke velicine predstavljaju odredjene fizicke velicine i 
     preciznost zavisi od mogucnosti merenja fizickih velicina
  2. Tacnost rezultata zavisi od preciznosti izrade racunskog sredstva
  3. Ne mogu da resavaju opste probleme, nisu *programibilna*
     * Napravljena su samo da resavaju opseg problema koji zadovoljavaju neki 
       matematicki model
  4. Slozenost matematickog modela ne utice na brzinu dobijanja rezultata
     * paralelne masine kod kojih rezultat zavisi samo od fizickih zakona

#### Diskretna racunska sredstva

* !Obavljaju operacije iskljucivo sa diskretnim podacima
* Sve vrednosti predstavljene su u obliku brojeva
* Izracunavanja se vrse prema pravilima za operacije sa brojevima 
  (cifarska/*digitalna*)
* !Osobine diskretnih racunskih sistema:
  1. Svaka cifra se registruje u odvojenom objektu kao jedno od njegovih 
     stanja (celija)
     * Diskretna stanja moraju da budu *stabilna* i da se medjusobno razlikuju
       * stabilno - ako je prenos na drugo stranje rezultat spoljasnjeg 
         uticaja
       * kod digitalnih racunara celija poseduje dva stabilna stanja
  2. Tacnost dobijenog rezultata ne zavisi od preciznosti izrade racunarskog 
     sredstva
     * rezultat sabiranja dva broja bice isti na abakusu i na naj 
       savremenijem elektronskom racunaru
  3. Resavaju opste probleme, mogu da se programiraju.
  4. Brzina izracunavanja rezultata zavisi od slozenosti problema koji se 
     resava.
     * Ako je broj promena diskretnog stanja veci, i vreme potrebno za 
       dobijanje rezultata ce biti duze

### Premehanicki period (3000. p.n.e - 1450. n.e)

#### Pisanje i alfabet

* Sistem za pisanje (Sumeri, Mesapotamija, 3000 p.n.e)
  * urezivanje znakova na glinanim plocicama koji su odgovarali govornom 
    jeziku
  * *klinasto pismo* do danas nije desifrovano
* Prvi alfabet (Fenicani, 2000 p.n.e)
  * simboli koji su odgovarali pojedinim slogovima i suglasnicima
* Alfavet + samoglasnici (Grci)
* Alfabet sa latinskim imenima (Rimljani)

#### Papir, pero i knjige

* *Papirus* (Egipcani, 2600. p.n.e.)
  * posebno pripremljeni listovi bilje papirus
* Kora od drveta, lisce, i spaljivana koza
* Papir (Kina, 100. n.e.)
* Prve biblioteke:
  * Mesopotamija - licne biblioteke koje su sadrzale glinene plocice
  * Egipat - papirus su omotavali oko stapova
  * Grcka (600. p.n.e.) - spajanje listova po vertikala
    * prva enciklopedija i spisak sortiranih reci
  * Prva javna biblioteka (Grcka, 500. p.n.e)

#### Razvoj brojcanih sistema

* Nepozicioni brojcani sistemi (egipatski, rimski,...)
* Pozicioni brojcani sistemi:
  * devetocifreni - *Indius* (izmedju 100. i 200. godine)
  * devetocifreni - *Arapski* (875. godine)

#### Razvoj sredstava za racunanje

* Kosti za brojanje
* Abakus
  * Kineski abakus
  * Japanska verzija abakusa
  * Ruska verzija abakusa

### Mehanicki period (1450-1840)

* Stamparska presa sa pokretnim slogovima od metala (Johan Gutamberg, 1450.)
* Logaritmi i pisanje decimalne tacke u zapisima brojeva (Dzon Neper, 1614.)
  * Neperove kosti
  * Kalkulator u obliku sahovske table
* *Klizajuci lenjir* ili *siber* (Viljem Outred, 1622.)
* *Sikardova masina* (Viljem Sikard, 1623.)
  * Sabiranje i oduzimanje sestocifrenih brojeva
  * Zvono za prekoracenje
* Paskalova masina (Blez Paskal, 1642.)
  * Sabiranje i oduzimanje osmocifrenih brojeva
* Lajbnicova masina (Lajbnic, 1673.)
  * Sabiranje, oduzimanje, mnozenje, deljenje brojeva koji imaju izmedju 5 i 
    12 cifara, dok je njihov proizvod mogao da ima 16 cifara
* Zakardov automatski razvoj (Zakard, 1801.)
  * busene kartice za kontrolu smene na tkanini
* Aritmometar (Carls Havijer Tomas, 1820.)
  * Prva masina koja je usla u serijsku proizvodnju
  * Sabiranje, oduzimanje, mnozenje i deljenje
* Modifikacija originalno aritrometra (Odner 1890.)
* Komptometar (Felt i tarant, 1884.)
  * prva masina kod koje su brojevi uneseni tritiskanjem tastera

#### Bebidzova masina

* Nacrt *diferencijske masine* (Carls Bebidz, 1822.)
* Protip (1832. godina)
* Kvadrate i kubove sestocifrenih brojeva i razlike drugog reda
* Zupcanici i poluge pokretani su rucno
* *Analiticka masina* (Bebidz, 1833.)

### Elektrosnki period (1840-1939)

#### Razvoj telekomunikacija

* Telegraf (1830. godine)
* Podmorski telegrafski kabl (1866. godina)
  * Spojene su Amerika i Evropa
* Telefon (1876. godine)
* Radio (1894. godine)

#### Elektromehanicko izracunavanje

* *Matematicka analiza logike* ili *Bulova logika* (Dzordz Bul, 1845.)
* Automatska masina za tabeliranje (Herman Holerit, 1884.)
  * Popis stanovnistva u SAD 1890.
* **IBM 601** (1935.)
  * Masina sa busenim karticama
  * Koristila je elektromehanicke releje
  * Mnozenje za 1 sekundu
* **Z1** (Konard Zuse, 1931.)
  * Prvi elektromehanicki kalkulator
* **Z3** (1941.)
  * Programabilni elektromehanicki kalkulator
* Elektromehanicki racunari specijalne namene za sifrovanje/desifrovanje 
  * Enigma ili Bomba
* Obrada podataka u udaljenom sistemu (Dzordz Stibic, 1939.)
* **MARK I** - prvi elektromehanicki programibilni kalkulator (Hauard Ejken, 1944.)
  * duzina oko $17m$ i visina ok $2.5m$
  * $800km$ zice, $750 000$ delova, $3$ miliona elktricnih spojeva
  * 72 akumulatora sa svojim posebnim aritmetickim jedinicama kao i mehanicke 
    registre sa kapacitetom od 23 cifre plus znak
  * Brojace za cuvanje brojeva i elektromehanicke releje kao pomoc u 
    belezenju rezultata.
  * Aritmeticke operacije su obaljanje u fuksnom zarezu
    * Sabiranje $1/3$ sekunde, a mnozenje $1$ sekunde
  * Instrukcije za izvsavanje se ucitavane sa papirne trake, a podaci sa 
    druge papirne trake, busenih kartica ili registra.
  * Izlaz se mogao dobiti na busenim karticama ili na papiru, preko pisanje 
    masine

### Elektronski period (od 1939. godine do danas)

* Elektronsko logicko kolo nazvano prekidac ili vrata 
  (Nikola Tesla 1903. godine)
* Elktronska vakuumska cev i dizajn prvog flip-flop elektronskog kola 
  (Le de Forest 1906. i 1919.)
* Televizija (1927. godina)
* Ekran sa katodnom cevi (Vladimir Zvorikin 1928.)
* Prvi 16-bitni sabirac sa vakuumskim cevima 
  (Dzon Atanasof i Kliford Beri 1939.)
* **ABC** (*Atanasoff-Berry-Computer*, 1941.)
  * kalkulator za resavanja sistema simultanih linearnih jednacina
  * koriscen isti princip kao kod prethodno konstruisanog sabiraca
  * sezdeset 50-bitnih reci koje su se nalazile na dva rotirajuca dobosa
  * ucestanost casovnika $60Hz$
  * sabiranje vrseno za 1 sekundu nije zahtevao mnozenje 
    (pa ova operacije nije bila ni realizovana)
  * oko $300$ vakuumskih cevi
* **Kolos** (UK, 1943. godina)
  * koriscena je za dekriptovanje numerickih sifrovanih poruka
  * $2400$ vakuumskih cevi
  * $5$ citaca papirne trake brzine od po $5000$ karaktera u sekundi
  * samo postojanje Kalosa je bilo tajna do 1970. godine, dok su algoritmi 
    dekriptovanja predstavljali tajnu i do 1995. godine.
* **ENIAC** (*Electronic Numerical Integrator and Calculator*) 
  (Ekert i Musil, 1946.)
  * 'The Use of High Speed Vacuum Tube Devices for Calculating' 
    (Dzon Musli, 1942.)
  * tezina $30$ tona, duzina preko $30m$, visina oko $3m$ i sirina nesto 
    manje od metra
  * $17648$ vekuumskih cevi, potrosnja izmedju $130W$ i $174W$ elektricne 
    energije
  * $5000$ sabiranja u sekundi, mnozenje je trajalo oko $3ms$
  * Koristio je dekadni sistem
  * memorija od $2020$ akumulatora koji su mogli da cuvaju $10$-cifrene 
    brojeve
  * ucestanost ENIAC-ovog casovnika je bila $100KHz$
* **EDVAC** (*Electronic Discrete Variable Automatic Computer*)
  * Dzon fon Nojman 1945. ideja za konstukciju racunara koji bi imao 
    mogucnost cuvanja programa i njegovog kasnijeg izvrsavanja
* **EDSAC** (*Electronic Delay Storage Automatic Computer*)
  * Moris Vilkis, Kembridz univerzitet, UK, 1949. godina
  * prvi operativni racunar koji je mogao da cuva program u memoriji
  * I/O je obavljan pomocu citaca/busaca papirne trake
  * $256$ reci duzine $35$ bita unutrasnje memorije napravljene od ultra-
    sonicnih odlozenih linija
  * memorija sa konstantnim sadrzajem koja je sluzila za inicijalno 
    pokretanje racunara
  * brzina cosovnika oko $500KHz$
  * izvrsavanje najveceg broja instrukcija je trajalo oko $1500ms$
* **Mancester MARK I** (Maks Njumen i Fredi Vilijams, univerzitet u Mancesteru, 1949.)
  * prototip SSEM (*Small-Scale Electronic Machine*) ili 'Beba' 1948.
  * memorija sa katodnim cevima ('Vilijamsove cevi')
  * mogucnost unosenja programa u binarnom obliku preko tastature
  * izlaz je ispisivan u binarnom obliku na katodnoj cevi
  * u kasnijoj fazi je Tjuring razvio primitivni asemblerski jezik za ovu 
    masinu
* **MESM** ('mala elektronska racunarska masina') 
  (Sergej Lebedivim, institu u Kijevi, 1947.)
  * originalni principi
  * zapis brojeva u fiksom zarezu i instrukcije sa troadresnim formatom
  * $6000$ vakuumskih cevi i izvrsavao oko $50$ instrukcija u sekundi
* **EDVAC** (Murova skola univerzitet u Pensilvaniji, 1952.)
  * $4000$ vakuumskih cevi
  * $10000$ kristalnih dioda
  * $1024$ reci duzine $44$ bita realizovanih pomocu ultra-sonicne memorije
  * brzina casovnika $1MHz$
* **IAS racunar** (*Institute for Advanced Study Machine*)
  * Fon Nojman, Prinston univerzitet, 1952.
* **BINAC** (*Binary Automatic Computer*) (Ekert i Musli, 1949.)
  * prvi racunar sa dualnim procesorom
  * drugi procesor redundantan i sluzio je da preuzme rad i slucaju otkaza 
    prvog
  * $700$ vakuumskih cevi
  * $512$ reci duzine $31$ bit
  * $3500$ sabiranja ili $1000$ mnozenja u sekundi
* **Vihor** (Dzej Forester, MIT, 1950.)
  * prvi racunar namenjen radu u realnom vremenu
  * konstruisan za istrazivacki institu ratne mornarice SAD
  * originalna verzija je imala $3300$ vakuumskih cevi (kasnije $5000$)
  * $8000$ kristalnih dioda
  * $2048$ reci duzine $16$ bita
  * $500 000$ sabiranja ili $50 000$ mnozenja

#### Generacije elktronskih racunara

* Cetiri faza koje zovemo *generacije racunara*
* pripadnost se utvrdjuje na osnovu tehnologije upotrebljene za izradu 
  osnovnih elektrnoskih komponenti koje se koriste za cuvanje i obradu 
  informacija - *logicki elementi*

**Prva generacija racunara (1939 - 1958)**

* !Karakteristike prve generacije:
  * Vakuumske cevi kao logicki elementi
    * trose ogromnu kolicinu energije
    * brzo se kvare
  * I/O uredjaji su busene kartice, papirne i magnetne trake
  * unatrasnju memoriju cine odlozene linije, magnetne trake i magnetni dobosi
  * Za programiranje se koristi masinski jezik, a kasnije i assembler
  * $2500$ racunara u upotrebi
* FORTRAN (IBM na celu sa Dzonom Bekusom, 1957.)
  * prvi visi programski jezik
* Projekat SAGE (*Semi-Automatic Ground Environment*, 1958.) 
  * prva globalna racunarska mreza u svetu

**Druga generacija rucunara (1959-1964)**

* !Karakteristike druge generacije:
  * Tranzistori
    * od germanijuma (1947.)
    * od silicijuma (1954.)
      * drastican pad cena u izradi
    * funkcija kao i vakuumske cevi
    * cvrst provodnik, pouzdaniji, manji, manje struje i toplote
    * od 1959. sci racunari koriste tnrazistore
  * Magnetna jezgra (1951.)
    * cuvaju sadrzaj i po prestanu napajanja
  * IBM RAMAC (1957.)
    * prvi magnetni diskovi
  * Poboljsan softver 
    * pored assemblera kreiraju se i prevodioci/interpreteri za vise programske jezike
      * FORTRAN, Lisp, Algol-60, Cobol
  * $18 000$ racunara
  * *Multiplekser* - nadgleda pristup od strane CPU-a i kanala, sto im 
    omogucava da rede nezavisno jedan od drugog.
* **BESM-6** (institu za preciznu mehaniku i racunarske tehnologije, SSSR)
  * Jednoadresni sa unatrasnjom memorijom velicine $32K$ sastavljen od 
    magnetnih jezgara
  * Procesor - napravljen u tranzistrorskoj tehnologiji
    * $60000$ tranzistora i $170000$ dioda, frekvencije $9MHz$
  * Duzina reci je bila $50$ bita
  * Racunar je imao $15$ indeks registra
  * kes za podatke $16$ redi velicine $48$ bita
  * Maksimalna velicina adresnog prostora je bila $32K$ reci, odnosno 
    oko $192KB$
  * Moguznost izvrsavanja do 14 instrukcija istovremeno
  * Virtualno adresiranje
  * Nominalna snaga od $1M$ aritmetickih instrukcija u sekundi
* **Projekat Stretch** (1955-1961)
  * uvodi pojmove bajt i sistemska arhitektura
  * prirastaj pri adresiranju u stepenima broja $2$
  * rec $64$ bira za aritmetiu i $8$ bira za I/O operacije
  * rec u memoriji $72$ bitova, od toga $8$ bita za ECC
  * magnetni diskovi umesto dobosa
  * podela unutrasnje memorije koja omogucava istovremeno izvrsavanje vise 
    programa
  * faza dohvatanja, dekodiranja i izrsavanja istrukcije

**Treca generacija racunara (1965 - 1971)**

* !Karakteristike trece generacije:
  * integrisano kolo umesto pojedinacnih tranzistora
  * pojavljuju se SSI cipovi (*small-scale-integration circuits*)
  * novi programski jezici razlicitih karakteristika
  * dalji razvoj operativnih sistema
  * razvoj telekomunikacija - lansiranje telokomunikacionih satelita
  * disketa velicine $8in$
* **IMB System/360**
  * ulozene $5$ milijardi dolara
  * prva unapred planirana familija racunara:
    1. identican ili slican skup instrukcija
    2. identican ili slican operativni sistem
    3. svaki od jacih modela je u odnosu na slavije za vecu cenu nudio
       * vecu brzinu, zbog vece vrzine izvrsavanja instrukcija
       * veci broj kanala na koje je moglo da se prikljuc veci broj 
         I/O jedinica
       * vecu kolicinu unutrasnje memorije
* **PDP-8** (*Programmed Data Procesor - 8*) (1964.)
  * proizvod kompanije *Digital Equipment Corparation*
  * PDP-8 je prvi mini racunar koji se pojavio na trzistu
  * relativno jeftin - oko $16000$$
  * ugradjivan od stane OEM proizvodjaca u njihove sisteme za dalju prodaju
  * uvoden koncept *magistrale*

![Struktura magistrale racunara PDP-8](img/omnibus.jpg)

**Cetvrta generacija racunara (1972 - danas)**

* !Karakteristike cetvrte generacije:
  * dalja minijaturizacija
  * LSI (1971), VLSI (1979)
  * poluprovodnicka memorija
  * pojava mikroprocesora (Intel 4004, 1971.)
  * PC racunari (Altair 8800, 1975.)
* **CRAY-I** (1976.)
  * Brzina: $166MFLOPS$
  * Tehnologija: integrisana kola
  * Ucestanost casovnika: $83MHz$
  * Duzina reci: $64$ bita
  * $128$ instrukcija
  * Tezina racunara: $2,4$ tone

# Matematicke osnove cuvanja podataka

## Azbuka i kodovi

### Azbuka

* Pravila koja se odnose na:
  * Nenumericke informacije su definisane preko *azbuke* i *pravopisa*
  * Numericke informacije su definisane preko *brojcanih sistema* i njihovih 
    pravila

**Azbuka**

* *Azbuka* $V$ - konacan neprazan skup proizvoljnih simbola
* *Slova* ili *simboli* - elementi skupa $V$
* *Reci* - konacne niske nad $V$
* $V^{*}$ - skup svih reci nad $V$
* *Prazna rec* $\lambda$ - pripada $V^{*}$
* *Jezik* $L$ - proizvoljan skup $V^{*}$
* *Duzina reci* $|P|$ - broj slova reci $P$, $|\lambda| = 0$
* Za neko $i$ i neku rec $P$ sa $P^{i}$ oznacava se $i$ puta dopisana 
  rec $P$, $P^{0} = \lambda$
* Primeri azbuka i jezika su:
  1. Neki jezici nad azbukom $V_1 = \{a, b\}$
     * $L_1 = \{a, b, \lambda\}$ - jezik sa recima duzine $\leq 1$
     * $L_2 = \{a^i b^i | i \in \{0, 1\}\}$ - jezik sa recima duzine $\leq 2$
  2. Za azbuku $V_2 = \{0, 1, 2, 3, 4, 5, 6, 7, 8, 9\}$ redi nad $V_2^+$ su 
     brojevi u dekadnom brojcanom sistemu (sa eventualno vodecim nulama)
  3. Za azbuku $V_3 = \{0, 1\}$ reci nad $V_3^+$ su brojevi u binarnom 
     brojcanom sistemu (sa eventualno vodecim nulama)

### Kodovi

* Neka su date azbuke
  * $V_1 = \{a_1, a_2, ... , a_m\}, m \geq 1$,
  * $V_2 = \{b_1, b_2, ... , b_n\}, n \geq 2$
* I jezici
  * $L_1 \subset V_1^{*}, L_1 = \{p_1, p_2, ... , p_r\} r \geq 1,$
  * $L_2 \subset V_2^{*}, L_2 = \{q_1, q_2, ... , q_s\} s \geq 1,$
* Tada vazi:
  1. **Funkcija kodiranja** je svaka funkcija $f$ definisana sa 
     $f:L_1 \mapsto L_2$
  2. **Funkcija dekodiranja** je funkcija 
     $g:L_2 \mapsto L_1, g = f^{-1}$, ako $f^{-1}$ postoji
  3. Kod jezika $L_1$ u azbuci $V_2$ je skup vrednosti 
     $K \subseteq L_2, K = \{q_j | \exists i : f(p_i)  = q_j\}$. 
     * *Kodiranje* predstavlja izracunavanje vrednosti $f(p_i)$.
     * *Dekodiranje* predstavlja izracunavanje vrednosti $g(q_j)$
  4. Kod je *jednoznacan* akko je funkcija $f$ '1-1'. U suprotnom je 
     *viseznacan*
  5. *Osnova koda* - broj simbola u azbuci $V_2$ se naziva. *kodna rec* - rec 
     $q_i$ iz jezika $L_2$
  6. Kod je *potpun* kada obuhvata sve reci odredjene duzine u jeziku $L_2$
  7. Kod je *ravnomeran* ako $\exists l \forall j : |q_j| = l$, tj. ako je 
     duzina svih kodiranih reci jezika $L_2$ ista. U suprotnom kod je *
     neravnomeran*. Za kod duzine $d$ reci $P$, ako vazi $|P| = n^d$ on je *
     potpuno ravnomeran kod*
* Primer:
  * Neka azvuka $V_1 = \{+, -, *, /\}$ sadrzi oznake aritmetickih operacija.
    Moguca kodiranja:

    Rec u jeziku | Kod1 | Kod2 | Kod3 | ...
    -------------|------|------|------|-----
    $+$          | $00$ | $00$ | $00$ | ...
    $-$          | $01$ | $01$ | $10$ | ...
    $*$          | $10$ | $11$ | $01$ | ...
    $/$          | $11$ | $10$ | $11$ | ...

## Brojevi i njihovi zapisi

### Brojcani sistemi

* U racunaru se brojevi zapisuju binarnim brojcanim sistemom
  * Pogodan je za aritmeticke operacije
* Dve glavne grupe brojcanih sistem:
  * **Nepozicioni**
    * Simbol koji oznacava cifru ima istu vrednost bez obzira na poziciju u 
      zapisu broja
    * Pr. egipatski i rimski
  * **Pozicioni**
    * Vrednost simbola koji predstavlja cifru zavisi i od izgleda i od 
      pozicije cufre u zapisu broja
    * Pr. arapski (dekadni) i indijski (sistem sa devet cifara, bez nule)


* Broj razlicitih cifara pozicionog brojcanog sistema se naziva 
  *osnova brojcanog sistema*
* Neka skup $S$ sadrzi $N > 1$ cifara. Brojcana vrednost $X$ u pozicionom 
  sistemu sa osnovom $N$ pise se u obliku neski i to:
  1. Vrednost broja $X$ u sistemu sa osnovom $N$ je 
     $$(X)_N = \sum_{i=-m}^n V(x_i)$$, 
     gde su $x_i$ cifre brojcanog sistema, $V(x_i)$ vrednost cifre $x_i$ u 
     zapisanoj nisci cifara, i $i$ mesto cifre u zapisanoj nisci cifara
  2. Brojcana vrednost cifre zavisi od vrednosti i pozicije pa je 
     $V(x_i) = x_i \dot N^i$. Zamenom dobijamo:
     $$(X)_N = \sum_{i = -m}^n x_i \dot N^i = x_n N^n + ... + x_0 N^0 + 
     x_{-1} N^{-1} + ... + x_{-m} N^{-m}$$
* Po konvenciji ne pisu se osnove i stepeni: 
  $$(X)_N = x_n x_{n-1}...x_0 x_{-1}...x_{-m}$$
* *Pozicija cifre* - mesto cifre u zapisu broja
* *Duzina broja* - broj cifara u zapisu broja
* Primeri:
  1. *Dekadni sistem* - $N = 10, S = \{0,...,9\}$
  2. *Oktalni sistem* - $N = 8, S = \{0,...,7\}$
  3. *Binarni sistem* - $N = 2, S = \{0, 1\}$
  4. *Troicni sistem* - $N = 3, S = \{0, 1, 2\}$
  5. *Balansirani troicni sistem* - $N = 3, S = \{-1, 0, 1\}$
  6. *Brojcani sistem sa negativnom osnovom* - $N = -N', S \in [0, N - 1]$
     * *Negabinarni brojcani sistem* - $N = -2, S = \{0, 1\}$
  7. *Brojcani sistem sa razlomljenom osnovom* 
     * $N = 0.5, S = \{0,...,9\}$
  8. *Brojcani sistem sa promenljivom osnovom*
  9. *Heksadekadni sistem* - $N = 16, S = \{0,...,9,A,B,C,D,E,F\}$

* !Osobine konvencionih pozicionih brojcanih sistema sa fiksnom osnovom:
  1. Povecanjem osnove brojcanog sistema smanjuje se duzina zapisa
  2. U svim brojcanim sistemima se osnova zapisuje kao $10$ (jedan, nula), 
     dok je $0$ (nula) najmanja cifra u svim sistemima.
     
### Zapis mesovitih brojeva

1. Zapisuju u ubliku sa tackom osnove (*radix point*) izmedju celobrojnog i 
   razlomljenog dela.
2. Zapisuju se pomocu $n$ cifara, pri cemu se sa $m \leq n$ cifara zapisuje 
   razlomljeni deo, a sa $n - m$ cifara celobrojni deo broja. 
   * Ako je broj cifara u celobrojnom delu broja $> n - m$ javlja se greska 
     pri zapisu
   * Ako je broj cifara u razlomljenom delu $< m$ preostale pozicije se 
     popunjavaju nulama
   * Ako je broj cifara u razlomljenom delu $> m$ tada se zapis broja 
     skracuje na $m$ cifara u razlomljenom delu
     * visak se ili odsece ili zaokruzi
   * *Zapis u fiksnom zarezu* - broj cifara u razlomljenom delu uvek fiksiran 
     bez obzira na velicinu broja
3. *Zapis u pokretnom zarezu*: Svaki mesovit broj u osnovi $N$ moze da se 
   zapise kao uredjen para $(F,E)$ ciji su elementi znacajan deo broja $(F)$ 
   i eksponent $(E)$ koji su predstavljeni kao brojevi u fiksnom zarezu. 
   Vrednost tog broja je $F \times N^E$.
   * Pr. $(0.13543, +2)$ gde su znacajni deo i eksponent zapisani u sistemu 
     sa osnovim $10$ zapisuje se kao $0.13543 \times 10^{+2}$
4. *Zapis u logaritamskom brojcanom sistemu*: Neoznacen broj $X$ zapisan u 
   osnovi $N$ se moze predstaviti izracunavanjem $log_N X$
5. *Zapis sa pokretnom crtom*: Svaki mesoviti broj $X$ se moze predstaviti 
   kao neskrativ razlomak i kao verizni razlomak: 
   $X = a/b = [c_1/c_2/.../c_m]$, gde su $c_i$ pozitivni celi brojevi

## Prevodjenje brojeva izmedju razlicitih brojcanih sistema

### Opsta pravila

* *Prevodjenje broja $X$ iz sistema sa osnovom $N$ u sistem sa osnovom $M$*:
  * Neka je broj $X$ zapisan u pozicionom brojcanom sistemu sa osnovom $N$, 
    postupak odredjivanje njegove vrednosti u pozicionom brojcanom sistemu sa
    osnovim $M$ je prevodjenje
* Zapis
  * $(X)_N \equiv x_n x_{n-1}...x_0 x_{-1}...x_{-m}$ - broj $X$ zapisan u 
    sistemu sa osnovom $N$
  * $(X)_M \equiv y_p y_{p-1}...y_0 y_{-1}...y_{-q}$ - broj $X$ zapisan u 
    sistemu sa osnovom $M$

### Prevodjenje celih brojeva

* Neka je dat ceo broj u sistemu sa osnovom $N$ oblika:
  $$(X)_N \equiv x_n x_{n-1}...x_0 = \sum_{i=0}^n x_i N^i$$
* Neka je taj isti broj u sistemu sa osnovom $M$ oblika:
  $$(X)_M \equiv y_p y_{p-1}...y_0 = \sum_{i=0}^p y_i M^i$$
* Kako vazi da je $(X)_N = (X)_M$ deljenjem sa $M$ dobijamo:
  $$\frac{(X)_N}{M} = \frac{y_0}{M} + \sum_{i=1}^p y_i M^{i-1}$$
* Dobija se celobrojni deo kolicnika: $X_1 = \sum_{i=1}^p y_i M^{i-1}$ i 
  ostatak deljanja $y_0$ koji predstavlja cifru na jedinicnom mestu u broju 
  $X$ predstavljenom u sistemu sa osnovom $M$
* Rekurentna formula za odredjivanje cifara je:
  $$X_i / M = X_{i+1} + y_i / M$$
  $$X_0 = X$$
  pri cemu se aritmeticke operacije izvode u sistemu sa osnovom $N$
* Sematski postupak

  i    | 0   | 1   |   2 |...| p
  -----|-----|-----|-----|---|-----
  $X_i$|$X_0$|$X_1$|$X_2$|...|$X_p$
  $y_i$|$y_0$|$y_1$|$y_2$|...|$y_p$

* $X_{i+1}$ - celobrojni deo kolicnika $X_i / M$
* $y_i$ - ostatak pri ovom deljenju

### Prevodjenje razlomljenog dela

* Neka je dat ceo broj u sistemu sa osnovom $N$ oblika:
  $$(X)_N \equiv 0.x_{-1} x_{-2}...x_{-m} = \sum_{i=0}^n x_{-i} N^{-i}$$
* Neka je taj isti broj u sistemu sa osnovom $M$ oblika:
  $$(X)_M \equiv 0.y_{-1} y_{-2}... = y_{-1}M^{-1} + y_{-2}M^{-2} + ... $$
* Kako vazi da je $(X)_N = (X)_M$ mnozenjem sa $M$ dobijamo:
  $$(X)_N \times M = y_{-1} + y_{-2}M^{-1} + ...$$
* Dobije se zbir cifre $y_{-1}$ i razlomljenog dela 
  $X_{-1} = y_{-2}M^{-1} +y_{-3}M^{-2} + ...$
* Rekurentna formula za odredjivanje cifara je:
  $$X_i \times M = y_{-(i+1)} + X_{-(i+1)}$$
  $$X_{-0} = X$$
* Aritmeticke operacije se izvode u sistemu sa osnovom $N$
* Sematski prikaz

  i       | 0      | 1      |      2 |...| q
  --------|--------|--------|--------|---|-----
  $X_{-i}$|$X_{-0}$|$X_{-1}$|$X_{-2}$|...|$X_{-q}$
  $y_{-i}$|$0$     |$y_{-1}$|$y_{-2}$|...|$y_{-q}$

### Specijalni slucaj kodiranja

* Svojstvo kodiranja izmedju dva brojcana sistema sa osnovama $N$ i $M$ za 
  koje vazi $N = M^s, s > 1$
* !Tvrdjenje: *Vrednost broja $X$ u sistemu sa osnovom $N$ zapisana u sistemu 
  sa osnovom $M$ je identicna zapisu koji se dobija kodiranjem cifara broja 
  $X$ u sistemu sa osnovom $M$. Prevodjenje mesovitih brojeva se vrsi tako 
  sto se posebno prevedu celobrojni i razlomljeni deo i od dobijenih prevoda 
  formira zeljeni prevod.*

## Predstavljanje oznacenih brojeva

* Neka je $(X)_N \equiv x_{n-2}...x_0$ neoznacen broj zapisan u brojvanom
  sistemu sa osnovom $N$.
* !*Oznaceni* broj se predstavlja pomocu dodatne cifre na mestu najvece 
  tezine i to kao:
  $$Y = \pm X \equiv y_{n-1}y_{n-2}...y_0$$
* !Vrednost cifara $y_i$ se izracunava na osnovu cifara $x_i$ u zavisnosti od 
  nacina predstavljanja oznacenog broja, koji moze biti
  1. znak i apsolutna vrednost
  2. komplement broja
  3. sa uvecanjem
* Uz svaki nacin zapisa brojeva navedene su i velicine intervala koje mogu da 
  uzimaju vrednosti brojeva zapisanih pomocu $n$ cifara

### Zapis pomocu znaka i apsolutne vrednosti

* !Cifra najvece tezine predstavlja znak, dok ostale cifre predstavljaju 
  apsolutnu vrednost.
  * Najmanja cifra oznacava ($+$) pozitivne
  * Najveca cifra oznacava ($-$) negativne
* Formalno
  $$ Y = \pm X \equiv y_{n-1} y_{n-2}...y_0$$
  pri cemu je $y_i = x_i$ za $i \in [0, n-2]$
   * $0$ (nula) kada se predstavlja pozitivan broj $+X \land i = n-1$,
   * i $N-1$ kada se predstavlja negativan broj $-X \land i = n-1$
* **Vrednost intervala** za *neoznacen* broj $X$ koji je zapisan pomocu $m-1$ 
  cifre je $[0,N^{m-1} - 1]$
* !**Vrednost intervala** za *oznaceni* broj $Y$ koji je zapisan pomocu 
  $n$ cifre je $[-(N^{n-1} - 1), +(N^{n-1} - 1)]$, ili 
  $[-N^{n-1} + 1, N^{n-1} - 1]$
  
**Aritmetika u zapisu znak i apsolutna vrednost**

* !Promena znaka se vrsi tako sto se se gleda cifra sa najvecom tezinom i ako 
  je na tom mestu cifra sa najvecom tezinom onda se umesto nje upisuje nula, 
  i obrnuto
* !Pravila aritmetickih operacija:
  1. Sabiranje i oduzimanje:
     * Ako su dva broja istog znaka tada je i takav znak rezultata.
       * Apsolutna vrednost rezultata se dobija kao zibr apsolutnih sabiraka
     * Ako su dva broja razlicitog znaka, znak rezultata je jednak znaku 
       broja koji ima vecu apsolutnu vrednost
       * Apsolutna vrednost rezultata se dobija kada se oduzme manja 
         apsolutna vrednost od vece
  2. Mnozenje i deljenje:
     * Ako su oba istog znaka rezultat je pozitiva, u suprotnom je rezultat 
       negativan
       * Apsolutna vrednost rezultata se dobija kao proizvod ili kolicnik 
         apsolutnih vrednosti ta dva broja
* !Nedostatak ovog zapisa je mogucnost dvostrukog zapisa nule: $(+0)$ i $(-0)$
  * potreba za stalno ispitivanje dve vrednosti pri ispitivanju jednakosti na 
    nulu

### Zapis uz koriscenje komplementa broja

* Pozitivni brojevi se zapisuju kao znak i apsolutna vrednost
* !Negativni brojevi se zapisuju tako sto se od *komplementacione konstante* 
  oduzme apsolutna vrednost,tj. $K - X$ gde je $K$ 
  *komplementaciona konstanta*
* Za predstavljanje brojeva iz intervala $[-A, B]$ komplementaciona konstanta 
  mora da zadovoljava uslov $K \geq A+B+1$
  * Moze se izabrati vise komplementacionih konstanti ali da bi dobili 
    neprekidan niz bez duplikata bira se $K = A+B+1$

**Aritmetika u zapisu pomocu komplementa**

* !Jednostavnije aritmeticke operacije nad brojevima
1. Promena znaka broja $X$ se svodi na komplementiranje tekuce vrednosti 
   izracunavanje $K - X$
2. Sabiranje dva broj $X$ i $Y$ se realizuje kao sabiranje neoznacenih 
   brojeva po modulu koji je jednak komplementacionoj konstanti K
3. Oduzimanje se realizuje komplementiranjem umanjioca i sabiranjem dobijene 
   vrednosti sa umenjenikom: $X - Y = X + (K - Y)$
4. Mnozenje i deljenje se realizuje na slican nacin kao u dekadnom sistemu
   (uz sabiranje i oduzimanje po prethodnim pravilima)

#### Izbor komplementacione konstane

* !Efikasnost predstavljanja brojeva pomocu komplemenata zavisi od 
  efikasnosti operacija negacije i izracunavanja ostatka pri deljenju sa $K$.
* Najefikasnije izvrsavanje operacija se dobija za sledece vrednosti $K$:
  1. !$K = N^n - 1$ - *komplement umanjene osnove* ili *$N-1$-vi komplement*
     * Pri trazenju ostatka po modulu (sabiranje brojeva) prenos sa mesta 
       najvece tezina se dodaje na mesto najmanje tezine
     * Komlementiranje broja moze da se izvede na dva nacina:
       * izracunavanjem $K-X$
       * zamenom svake cifre $x_i$ sa vrednoscu $N-1 - x_i$
     * Postoje dva zapisa nule: $(+0)$ i $(-0)$
     * !Interval zapisa *je* simetrican: $[-N^{n-1} + 1, +N^{n-1} - 1]$
  2. !$K = N^n$ - *komplement u odnosu na osnovu sistema* ili 
     *$N$-ti komplement* (*radix komplement*).
     * Pri trazenju ostatka po modulu (sabiranju brojeva) prenos sa mesta 
       najvece tezine se ignorise
     * Komplementiranje broja moze da se izvede na dva nacina:
       * izracunavanjem $K-X$
       * zamenom svake cifre $x_i$ sa vrednoscu $N-1 - x_i$ i dodavanjem 
         jedinice na poziciju najmanje tezine
     * Nula ima jedinstveni zapis: $(+0)$
     * !Interval zapisa *nije* simetrican: $[-N^{n-1}, +N^{n-1} - 1]$

* Za neoznaceni broj $X_N = x_{n-2}x_{n-3}...x_0$
  * $N - 1$-vi komplement
    $$Y = -X \equiv \bar{x}_{n-2} \bar{x}_{n-3} ... \bar{x}_0$$
    gde je $\bar{x}_i = N - 1 - x_i, i \in [0, n-2]$
  * $N$-ti komplement
    $$Y = -X \equiv \bar{x}_{n-2} \bar{x}_{n-3} ... \bar{x}_0 + 1$$
    gde je $\bar{x}_i = N - 1 - x_i, i \in [0, n-2]$
* Zapis sa komplementom, zato sto vazi:
  1. $|X| + (-|X|) = N^n - 1$ u komplementu umanjene osnove
  2. $|X| + (-|X|) = N^n$ u komplementu osnove
* Napomena:
  * Komplementaciona konstanta se odnosi *samo* na negativne osnove
  * Kod komplementa u odnosu na osnovu sistema jedinica se uvek dodaje na 
    mesto najmanje tezine
    * Kod mesovotog broja 
      $(X)_N \equiv x_n N^n + ... + x_0 N^0 + x_{-1} N^{-1} + ... + 
      x_{-m}N^{-m}$ jedinica se dodaje na poziciju $-m$

### Zapis uz dodavanje uvecanja

* Specijalan slucaj zapisa pomocu komplementa u kome se oznaceni broj 
  zapisuje tako sto se njegova vrednost savere sa konstantom $k$ i dobijeni 
  zbir se zapise pomocu komplementa osnove
* *Uvecanje* ili *visak* - vrednost $k$
* *Kod visak k* - broj zapisan sa uvecanjem $k$

**Aritmetika u zapisu sa dodavanjem uvecanja**

* Svodi se na aritmetiku u zapisu pomocu komplementa
  * $X + Y + k = (X + k) + (Y + k) - k$
  * $X - Y + k = (X + k) - (Y + k) + (-k)$

Broj| Znak i apsolutna vrednost | $N - 1$-vi komplement | $N$-ti komplement | Visak 4
----------|:------:|:-------:|:-------:|:-----:
$(+101)_2$| $0101$ | $0101$  | $0101$  | $01001$
$(-101)_2$| $1101$ | $1010$  | $1011$  | $11111$
$(+AB)_{16}$| $0AB$| $0AB$   | $0AB$   | $0AF$
$(-AB)_{16}$| $FAB$| $F54$   | $F55$   | $F59$

# Racunarska aritmetika

## Zapis podataka i racunarska aritmetika

* Nacin zapisa podataka:
  * Znakovni (alfanumericki)
  * podskup brojcanih (numerickih) podataka u koje spadaju
    * celi brojevi
    * binarno kodirani dekadni brojevi
    * realni brojevi zapisani u nepokretnom zarezu
    * realni brojevi zapisani u pokretnom zarezu

### Hijerarhija podataka

* Podaci se zapisuju u razlicitim strukturamo u obliku hijerarhije
* !*Datoteka* - najveci i najsire rasprostranjen oblik organizacije kao 
  razlicite hijerarhije
  * datoteke se zapisuju na jednom ili vise uredjaja
  * one su sacinjene od vise blokova koje sadrze slogove datoteka
    * *datoteka sa slogovima fiksne duzine* - datoteka ciji slogovi imaju 
      istu duzini (broj bajtova)
    * *datoteka sa slogovima promenljive duzine* - datoteka ciji slogovi 
      imaju razlicite duzine
    * svi slogovi imaju prvi bit koji oznacava duzinu sloga i poslednji koji 
      oznacava kraj
    * *slogovi nedefinisane duzine* - slogovi cije karakteristike ne 
      zadovoljavaju specifikacije ni slogova fiksirane duzine ni slogova 
      promenljive duzine
    * *polja* - pojedinacne pojmove koji ulaze u sastav slogova.
* !**bit** - binarna vrednost koja se zapisuje u racinar
* !**bajt** - podatak koji predstavlja osam binarnih vrednosti i cini osnovnu 
  jedinicu podatka od koje se sastoje reci i polja
* !**rec** - grupu uzastpnih bitova ciji broj odgovara velicini opstih 
  registara u procesoru (cetiri uzastopnih bajta)
  * *dvostruka rec* - osam uzastpnih bajta
  * *polurec* - dva uzastopna bajta
  * *cetvorostruka rec* - 16 bajtova ili dve uzastopne dvostruke reci
* Razlika izmedju polja i reci je u njihovom smestanju u memorji
  * polje moze da pocne i da se zavrsi na bilo kojoj adresi
  * rec mora da pocne na adresi koja je deljiva sa 4
    * polurec mora da se nalazi na adresi koja je deljiva sa 2
    * dvostruka rec mora da se nalazi na adresi koja je devljiva sa 8
* *registri* - cine 4 ili 8 bajtova

Broj bitova | Heksad. cifra | Broj najtova | Naziv | Heksadekadna adresa poravnanja prvog bajta
:-:|:---:|:---:|:--------:|----------------------------
1  | 1/4 | 1/8 | Bit           | Nije direktno adresiv
4  | 1   | 1/2 | Polubajt      | Nije direktno adresiv
8  | 2   | 1   | Bajt          | Bilo koja adresa
16 | 4   | 2   | Polurec       | 0, 2, 4, 6, 8, A, C, E,...
32 | 8   | 4   | Rec           | 0, 4, 8, C,...
64 | 16  | 8   | Dvostruka rec | 0, 8,...


### Binarni i heksadekadni sistem

* Zbog racunarske prirode binarni sistem se koristi u racunarskim sistemima
* Binarni sistem je veoma komplikovan za ljude i sklon je greskama
* *Heksadekadni brojcani sistem* - koristi se da bi se skratio zapis i da bi bio razumniji ljudima
  * veoma lako prebacivanje u binardni
  * heksadekadna cifra staje u cetiri bita

**Sabiranje i oduzimanje u binarnom i heksadekadnom sistemu**

* Tabele za binarno i heksadekadno sabiranje i oduzimanje

$+$| 0  | 1
---|----|---
0  | 00 | 01
1  | 01 | 10

#### Prevodjenje iz heksadekadnog u dekadni sistem i obratno

* Klasicno prevodjenje je dosta slozeno i nije pogodno za implementaciju u 
  racunaru
* *Hartmanov* metod - (Hartmann)
  * polazi od broja u nekom sistemu i nizom sabiranja i mnozenja prevodi broj 
    u drugi sistem
  * *korektivna cifra* - koristi za prevodjenje
    * $-6_{16}$ (tj. $A_{16} - 10_{16}$) za prevodjenje iz dekadnog u 
      heksadekadni sistem
    * $+6_{10}$ (tj. $16_{10} - 10_{10}$) za prevodjenje iz heksadekadnog u 
      dekadni sistem
* Hartmanov algoritam:
  1. Naredna cifra (pri prvom prolazu krajnje leva cifra) se prevodu u 
     heksadekadni sistem i dobijeni prevod postaje pocetna vrednost rezultata 
     prevoda
  2. Ukoliko nema vise cifara koje nisu prevedene tada rezultat predstavlja 
     broj u heksadekadnom zapisu. Ukoliko pak ima jos cifara koje nisu 
     prevedene rezultat prevoda se mnozi sa korektivnom cifram $-6_{16}$. 
     Dobijeni proizvode se koristi u petom koraku
  3. Naredna cifra se prevode u heksadekadni sistem
  4. Rezultat prevoda se aritmeticki pomeri za jedno mesto u levo i sabere sa 
     vrednoscu koja je dobijena u prethodnom koraku. Dobijena vrednost je 
     nova tekuca vrednost rezultata prevoda
  5. Proizvod formiran u drugom koraku se sabere sa rezultatom prevoda. 
     Izvrsava se prenos sa koraka $2$

* Slican algoritam se primenjuje i pri prevodjenju heksadekadnih brojeva u 
  dekadni brojcani sistem
  * Koristi se $+6_{10}$ kao korektivna cifra
  * Operacije se vrse u dekadnom brojcanom sistemu
* Hartmanov metod se moze iskoristiti i za prevodjenje razlomljenih brojeva
      

### Zapis znakovnih podataka

* Znakovni podaci se zapisuju pomocu binarnih kodova
* Koriste se vise razlicitih kodova duzine 7, 8, ili 16:
  1. **ASCII** (*American National Standard Code for Information Interchange*)
     * 128 karaktera
     * 7-bitni kod za svaki karakter
     * osmi bit se koristi za kontrolu parnosti
     * postoje *kontrolni* karakteri i *graficki* karakteri
  2. **EBCDI** (*Extended Binary Coded Decimal Interchange Code*)
     * 256 karaktera
     * 8-bitni kod
     * slicno kao ASCII samo sa duplo vise karaktera
  3. **IBM-PC**
     * 256 karaktera
     * 8-bitni kod
     * prvih 127 pozicija poklapa se sa ISO-8 kodom
  4. **ISO-8** 
     * 8-bitni kod
     * prvih 127 pozicija poklapa se sa ASCII kodom
     * sadrzi karaktere koji se javljaju u razlicitim evropskim jezicima
  5. **UNICODE** (*UNIversal encODE*)
     * 65546 karaktera
     * 16-bitni kod
     * podrzava veliki broj jezika
  6. **UTF-8** (*Unicode Transformation Format*)
     * kodira svaki UNICODE simbol pomocu promenljivog broja (1-4) *oktera*
     * svaki okter ima 8 bitova
     * broj oktera zavisi od celobrojne vrednosti koja je dodeljena UNICODE 
       karakteru
     * UTF-8 je kompatibilan sa ASCII kodom 

## Celi brojevi i celobrojna aritmetika

### Celi brojevi

* U binarnom sistemu celi brojevi se zapisuju pomocu 0 i 1
* !Zapisuju se u obliku binarnog broja $a_{n-1} a_{n-2} ... a_1 a_0$ u $n$-
  bitnoj reci
* !Celi brojevi se najcesce zapisuju u 32-cifrenim binarnim brojevima, pri 
  cemu se svaka cifra zapisuje u jednom bitu reci
* *mesto najmanje tezine* - mesto u zapisu broja na poziciji 0
* *mesto najvece tezine* - mesto u zapisu broja na poziciji $n-1$
* !Bez obzira na duzinu reci brojevi se zapisuju u 32-cifrenim brojevima
  * ako je broj $m$ zapisan u 16 bita, velicina registra je 32 bita, pri 
    izvodjenju operacija broj m ce biti prenet u registar procesora i interno 
    konvertovan u 32-bitni zapis

Binarna cifra: | $a_{n-1}$ | $a_{n-2}$ | ... | $a_1$ | $a_0$
 --------------|:---------:|:---------:|:---:|:-----:|:-----:
Pozicija:      | $n-1$     | $n-2$     | ... | $1$   | $0$

#### Zapis neoznacenih brojeva

* *Neoznacen* - broj ciji zapis *ne sadrzi* znak
* Zapis neoznacenih celih brojeva je identican njihovoj reprezentaciji u 
  binarnom brojcanom sistemu
* Neka je $A$ neoznaceni ceo broj
* Binarni broj broja $A$ je $a_{n-1} a_{n-2} ... a_1 a_0$
* Tada vazi $A \in [0, 2^n - 1]$ - interval za neoznacene brojeve
* Formalno: Ako je niz $n$ uzastopnih binarnih brojeva 
  $a_{n-1} a_{n-2} ... a_1 a_0$ interpretira kao neoznaceni ceo broj $A$ 
  tada je njegova dekadna vrednost
  $$A = \sum_{i=0}^{n-1} 2^i a_i$$

#### Zapis oznacenih brojeva

* *Oznacen* - broj ciji zapis *sadrzi* znak
* *Porpuni* - $N$-ti komplement
* *Nepotpuni* - $N - 1$-vi komplement
* $a_{n-1}$ - oznacava znak na mestu najvece tezine
  * $a_{n-1} = 1$ - negativan broj
  * $a_{n-1} = 0$ - pozitivan broj

**Znak i apsolutna vrednost**

* U $n$-bitnoj reci krajnje live bit oznacava znak
* ostali bitovi oznacavaju apsolutnu vrednost
* Binarni broj broja $A$ je $a_{n-1} a_{n-2} ... a_1 a_0$
* !Tada vazi $A \in [-2^{n-1} + 1, 2^{n-1} - 1]$
* !Formalno: Ako se niz $n$ uzastopnih binarnih brojeva 
  $a_{n-1} a_{n-2} ... a_1 a_0$ interpretira kao oznaceni ceo broj $A$ tada 
  je njegova dekadna vrednost
 $$A_{ZA} = (-1)^{a_{n-1}} \sum_{i=0}^{n-2} 2^i a_i$$
* !Karakteristike (nedostaci):
  1. Pri izvodjenju racunskih operacija za otkrivanje eventualnog 
     prekoracenja neophodno je ispitati znak i apslutnu vrednost oba argumenta
  2. Nula se moze zapisati na dva nacina, 16-bitnoj reci:
     $$+0 = 0000000000000000$$
     $$-0 = 1000000000000000$$

##### Nepotpuni komplement

* Jednstavnije izvodjenje racunskih operacija u odnosu na zipis pomocu znaka 
  i apsolutne vrednosti
* U $n$-bitnoj reci krajnje live bit oznacava znak
* ostali bitovi oznacavaju vrednost $A$ i to na sledeci nacin:
  * ako je broj *pozitivan* njihova vrednost je ista kao apsolutna vrednost 
    tog broja
  * ako je broj *negativan* njegova vrednost je apsolutna vrednost broja $A$ 
    kome je svaka cifra zamenjena njegovim komplementom do najvece cifre 
    brojcanog sistem
* Binarni broj broja $A$ je $a_{n-1} a_{n-2} ... a_1 a_0$
* !Tada vazi $A \in [-2^{n-1} + 1, 2^{n-1} - 1]$
* !Formalno: Ako se niz $n$ uzastopnih binarnih brojeva 
  $a_{n-1} a_{n-2} ... a_1 a_0$ interpretira kao oznaceni ceo broj $A$ tada 
  je njegova dekadna vrednost
  $$A_{NK} = (-2^{n-1} + 1) a_{n-1} + \sum_{i=0}^{n-2} 2^i a_i$$
* !Karakteristike (nedostaci):
  1. Jednostavnije izvodjenje aritmetickih operacija u odnosu na znapis znak 
     i apslolutna vrednost
  2. Nula se moze zapisati na dva nacina, 16-bitnoj reci:
     $$+0 = 0000000000000000$$
     $$-0 = 1111111111111111$$

##### Potpuni komplement

* U $n$-bitnoj reci krajnje live bit oznacava znak
* ostali bitovi oznacavaju vrednost $A$ i to na sledeci nacin:
  * ako je broj *pozitivan* njihova vrednost je ista kao apsolutna vrednost 
    tog broja
  * ako je broj *negativan* njegova vrednost je apsolutna vrednost broja $A$ 
    kome je svaka cifra zamenjena njegovim komplementom do najvece cifre 
    brojcanog sistem i na tako dobijen broj dodata je jedinica na mestu 
    najmanje tezine, odnosno keo vrednost $2^n - A$
* Binarni broj broja $A$ je $a_{n-1} a_{n-2} ... a_1 a_0$
* !Tada vazi $A \in [-2^{n-1}, 2^{n-1} - 1]$
* !Formalno: Ako se niz $n$ uzastopnih binarnih brojeva 
  $a_{n-1} a_{n-2} ... a_1 a_0$ interpretira kao oznaceni ceo broj $A$ 
  tada je njegova dekadna vrednost
  $$A_{PK} = -2^{n-1} a_{n-1} + \sum_{i=0}^{n-2} 2^i a_i$$
* !Karakteristike (nedostaci):
  1. Jednostavnije izvodjenje aritmetickih operacije u odnosu na zapise znak 
     i apsolutna vrednost i nepotpuni komplement
  2. U ovom zapisu nula ima jedinstven zapis kao $+0$

##### Zapis uz dodavanje uvecanja

* Broj predstavljen kao zbir njegovog potpunog komplementa i vrednosti $k$ 
  koja je poznata pod nazivom *uvecanje* ili *visak*
* Jedina funkcija je pomeranje reprezentacije broja u potpunom komplementu
* Vrednost uvecanja se bira tako da ima istu masku bitova kao i najmannji 
  negativan broj. Tada su oni sortirani, ako se posmatra kao neoznaceni celi 
  broj

##### Konverzija izmedju zapisa razlicitih duzina

* Neka je cao broj $A = a_{n-1} a_{n-2} ... a_1 a_0$ zapisan u binarnoj reci 
  duzine $n$ i neka ga treba upisati u binarnu rec duzine $m$
  1. Ako je $m < n$ upisivanje nije moguce izvesti korektno
     * gube se znacajne cifre (dobija se pogresna vrednost)
  2. Ako je $m = n$ konverzija ne postoji
     * zapisi obe binarne reci su identicni
  3. Ako je $m > n$ tada nacin konverzije zavisi od nacina zapisa celog broja
     * Znak i apsolutna vrednost:
       * bit za znak se pomeri na mesto najvece tezine i ostala mesta se 
         popune nulama
     * Nepotpuni i potpuni komplement:
       * upisuje se $a_{n-1}$ na sve pozicije $i$ u zapisu broja, gde 
         vazi $n \leq i < m$

#### Dokaz korektnosti pravila

// todo za ispit

### Celobrojna aritmetika

#### Promena znaka

* Znak i apsolutna vrednost - komplementiranje bita za znak

Dekadna vrednost | Binarni zapis
----------------:|:--------------
$+9$             | $0000 1001$
$-9$             | $1000 1001$

* Nepotpuni komplement - komplementiranje svake cifra u binarnom zapisu

Dekadna vrednost | Binarni zapis
----------------:|:--------------
$+9$             | $0000 1001$
$-9$             | $1111 0110$

* Potpuni komplement - komplementiranje svake cifre u binarnom zapisu i 
  dodavanje jedinice na pozociju najmanje tezine

Dekadna vrednost | Binarni zapis
----------------:|:--------------
$+9$             | $0000 1001$
$-9$             | $1111 0111$

* Neka je $A = a_{m-1} a_{m-2} ... a_1 a_0$ broj u potpunom kompelemntu
  $$A = -2^{m-1} a_{m-1} + \sum_{i=0}^{m-2} 2^i a_i$$
* Broj $B = -A$ se zapisuje komplementiranjem $\bar{a}_i$ svake od cifara 
  $a_i$ broja $A$ i dodavanjem 1
  $$B = 1 - 2^{m-1} \bar{a}_{m-1} + \sum_{i=0}^{m-2} 2^i \bar{a}_i$$
* Potrebno je dokazati $A = -B$, tj. $A + B = 0$. Ako se zna da je 
  $a_i + \bar{a}_i = 1$
  $$A + B = -2^{m-1} a_{m-1} + 
  \sum_{i=0}^{m-2} 2^i a_i + 1 - 2^{m-1} \bar{a}_{m-1} + 
  \sum_{i=0}^{m-2} 2^i \bar{a}_i$$
  $$A + B = 1 - 2^{m-1}(a_{m-1} + \bar{a}_{m-1}) + 
  \sum_{i=0}^{m-2} 2^i (a_i + \bar{a}_i)$$
  $$A + B = 1 - 2^{m-1} + \sum_{i=0}^{m-2} 2^i$$
  $$A + B = 1 - 2^{m-1} + 2^{m-1} - 1$$
  $$A + B = 0$$

#### Prekoracenje

* Neka su brojevi $A$ i $B$ zapisani u binarnom obliku duzine n:
  $$A = a_{n-1} a_{n-2} ... a_1 a_0$$
  $$B = b_{n-1} b_{n-2} ... b_1 b_0$$
* Ako se kao rezultat neke aritmeticke operacije dobije broj $C$ za ciji je 
  tacan zapis potrebno $n+1$ cifara, tada se kaze da je doslo do 
  *prekoracenja*
* Otkriva se preko modifikovanog zapisa broja

 | Registri | Binarni zapis
 |---------:|:------------------------
 | $A =$    | $a_n a_{n-1} ... a_1 a_0$|
 | $B =$    | $b_n b_{n-1} ... b_1 b_0$|
 | $C =$    | $c_n c_{n-1} ... c_1 c_0$|

* Pravilo: *Ako se sabiraju dva broja, prekoracenje sa javlja ako i samo ako 
  rezultat sabiranja ima suprotan znak, gde je $c_n$ cifra znaka*

#### Sabiranje i oduzimanje

**Sabiranje i oduzimanje neoznacenih brojeva**

* Vrsi se u skladu sa pravilima za sabiranje i oduzimanje u binarnom sistemu

 14 | $+$ | 10
 --:|:---:|:--
 14 | $=$ | 0000 1110
 10 | $=$ | 0000 1010
 24 | $=$ | 0001 1000

 252| $+$ | 5
 --:|:---:|:--
 252| $=$ | 0 1111 1100
 5  | $=$ | 0 0000 0101
 nan| $=$ | 1 0000 0001

**Sabiranje i oduzimanje u obliku znak i apsolutna vrednost**

* Posebno se obradjuju znaci a posebno apslolutna vrednost
* !Pravila za odredjivaanje zbira $A + B$ brojeva $A$ i $B$:
  1. Ukoliko su brojevi $A$ i $B$ istog znaka, isti znak ima i rezultat 
     sabiranja. Apsolutna vrednost rezultata se dobija sabiranjem aspolutnih 
     vrednosti sabiraka kao neoznacenih brojeva. Ako se javi prekoracenje, 
     prekoracenje se tada javlja i u konacnom zbiru
  2. Ukoliko su brojebi $A$ i $B$ razlicitog znaka, znak rezultata je isti 
     kao i znak sabirka koji ima vecu apsolutnu vrednost. Apsolutna vrednost 
     rezultata je razlika izmedju vece i manje apsolutne vrednosti
  3. Oduzimanje $A - B$ se svodi na sabiranje uz promenu znaka drugom operandu

+14 | $+$ | 10
 --:|:---:|:--
+14 | $=$ | 0 0000 1110
+10 | $=$ | 0 0000 1010
 24 | $=$ | 0 0001 1000

**Sabiranje i oduzimanje brojeva u nepotpunom komplementu**   

* Jednostavnije izvodjenje aritmetickih operacija ako su brojevi zapisani u 
  neoptpunom komplementu od znaka i apsolutne vrednosti
* Neka je $A = a_{n-1} a_{n-2} ... a_1 a_0$ i 
  $B = b_{n-1} b_{n-2} ... b_1 b_0$ zapisani u nepotpunom komplementu 
  duzine $n$ 
* !Izracunavanje zbira $C = A + B$ se dobija:
  1. Oznacimo medjurezultat koji se dobija sabiranjem $A$ i $B$ sa $C'$ 
     Sabiranje se vrsi kao sabiranje neoznacenih brojeva bez kontrole 
     prekoracenja $c'_n$

 | Registri | Binarni zapis
 |---------:|:------------------------
 | $A =$    | $\qquad a_{n-1} \quad ... \quad a_1 \quad a_0$|
 | $B =$    | $\qquad b_{n-1} \quad ... \quad b_1 \quad b_0$|
 | $C' =$   | $c_n \quad c_{n-1} \quad ... \quad c_1 \quad c_0$|
 
  2. Neka je $C''$ broj koji se dobija uklanjanjem $c'_n$ iz medjurezultata 
     $C'$. Konacan rezultat $C = A + B$ se dobija tako sto se pronos $c'_n$ 
     sabere sa $C''$ uz kontrolu prekoracenja

 | Registri | Binarni zapis
 |---------:|:------------------------
 | $C'' =$  | $c'_{n-1} \quad c'_{n-2} \quad ... \quad c'_1 \quad c'_0$|
 |         | $\qquad \qquad \qquad \qquad \qquad c'_n$   
 | $C' =$   | $c_{n-1} \quad c_{n-2} \quad ... \quad c_1 \quad c_0$|
     
* Oduzimanje $C = A - B$ se svodi na sabiranje uz promenu znaka drugom 
  operadnu: $C = A + (-B)$ 

**Sabiranje i oduzimanje brojeva zapisanih u potpunom komplementu**

* Najceste se u racunarima zapisuju brojevi u potpunom kompelemntu
* Najjednostavnije izvodjenje aritmetickih operacija u odnosu na nepotpuni 
  komplement i znak i apsolutna vrednost
* Neka je $A = a_{n-1} a_{n-2} ... a_1 a_0$ i 
  $B = b_{n-1} b_{n-2} ... b_1 b_0$ zapisani u potpunom komplementu 
  duzine $n$ 
* !Pravila sabiranja:
  1. Neka je sa $C'$ oznacen medjurezultat sabiranja $A$ i $B$. Sabiranje se 
     vrsi kao sabiranje neoznacenih brojeva bez kontrole prekoracenja; $c'_n$ 
     predstavlja prenos pri sabiranju sa pozicije na znak
  2. Rezultat $C = A + B$ se dobija uklanjanjem $c'_n$ iz medjurezultata 
     $C'$. Po uklanjanju cifre se crsi kontrola pojave prekoracenja u skaldu 
     sa prethodno navedenim pravilima
* Oduzimanje $C = A - B$ se svodi na sabiranje uz promenu znaka drugom 
  operandu: $C = A + (-B)$.

 | Registri | Binarni zapis
 |---------:|:------------------------
 | $A =$    | $\qquad a_{n-1} \quad ... \quad a_1 \quad a_0$|
 | $B =$    | $\qquad b_{n-1} \quad ... \quad b_1 \quad b_0$|
 | $C' =$   | $c_n \quad c_{n-1} \quad ... \quad c_1 \quad c_0$|

## Binarno kodirani dekadni brojevi i aritmetika

### Binarno kodirani dekadni brojevi

* Koriste se tacnost zapisa meseovite brojeve u racunarskom sistemu
* !Svaka dekadna cifra se kodira odredjenim binarnim zapisom
* Duzine bar cetiri
* Broj razlicitih nacina kodiranja je $16!/6!$ tj. $2.9 \times 10^{10}$
* !Pri kodiranju treba da bude ispunjena *jednoznacnost*
  * sve binarne reci moraju da budu razlicite
* Osobine za jednostavnije izvodjenje operacija su
  1. Najvecoj dekadnoj cifri (9) je pridruzena rec koja ima najvecu vrednost
     * posmatra se kao binardni broj
  2. Parnim i neparnim dekadnim ciframa odgovaraju parni odnosno neparni 
     binarni brojevi
  3. Kod je *komplementaran* ako su svi kodovi dekadnih cifara $a$ i $b$ za 
     koje vazi $a + b = 9$ komplementarni
     * cifre na odgovarajucim pozicijama u kodu su komplementane
  4. Kod je *tezinski* ako je $i$-toj poziciji kodne reci pridruzen broj 
     $p_i$ tako da za dekadnu cifru $q$ i njemu kodnu rec $y_3 y_2 y_1 y_0$ 
     vazi jednakost $q = p_3 y_3 + p_2 y_2 + p_1 y_1 + p_0 y_0$
* *Tezinski kodovi* - kodovi cije ime predstavlja svaku od tezina za datu 
  poziciju cifre
  * Pr. Kod 8421:
    * na poziciji 3 ima tezinu 8
    * na poziciji 2 ima tezinu 4
    * na poziciji 1 ima tezinu 2
    * na poziciji 0 ima tezinu 1
  * Pr. Kod 753-6:
    * na poziciji 3 ima tezinu 7
    * na poziciji 2 ima tezinu 5
    * na poziciji 1 ima tezinu 3
    * na poziciji 0 ima tezinu -6

Dekadna cifra|8421|2421|5421|753-6|84-2-1|visak 3|ciklicni
------------:|:--:|:--:|:--:|:--:|:--:|:--:|:--:
          0  |0000|0000|0000|0000|0000|0011|0001
          1  |0001|0001|0001|1001|0111|0100|0101
          2  |0010|0010|0010|0111|0110|0101|0111
          3  |0011|0011|0011|0010|0101|0110|1111
          4  |0100|0100|0100|1011|0100|0111|1110
          5  |0101|0101|1000|0100|1011|1000|1100
          6  |0110|1100|1001|1101|1010|1001|1000
          7  |0111|1101|1010|1000|1001|1010|1001
          8  |1000|1110|1011|0110|1000|1011|1011
          9  |1001|1111|1100|1111|1111|1100|0011

* Binarno kodirani zapis nekog dekadnog broja se dobija tako sto se svaka 
  cifra tog broja kodira odgovarajucim kodom
  * Pr. Broj 3264 u kodu 8421:
    * $3= \;\; 2= \;\; 6= \;\; 4=$
    * 0011 0010 0110 0100
* Koriscenje nekih kodova omogucava efikasnije izvodjenje racunskih operacija 
  sa BCD brojevima

#### Grejev kod

* Grejev kod duzine $n \geq 0$ je funkcije $G(n, i)$ koja vrsi '1-1' 
  preslikavanje celog broja $i \in [0, 2^n - 1]$ pri cemu vazi da se binarne 
  reprezentacije $G(n, i)$ i $G(n, i + 1)$ razlikuju tacno na jednom mesto
* Karakteristike:
  * Funkcija koja vrsi preslikavanja nije jedinstvena tako da postoji vise 
    Grejevih kodova duzine $n$
  * Jedna od najcescih koriscenih funkcija se moze definisati na sledeci 
    nacin:
    * !$G(n, i) = i_n \oplus [i/2]_n$ gde je $n > 0, i \in [0, 2^n - 1]$, 
      $i_n$ oznacava $i$ zapisano u binarnom sistemu kao neoznacen ceo broj u 
      polju duzine $n$, a $\oplus$ ekskluzivnu disjunkciju
    * !Ista funkcija $G(n, i)$ moze da se definise i rekurentno:

      $G(n + 1, i) \; = 0 G(n,i) \qquad \qquad \qquad n > 0, i \in [0,...,2^n - 1]$

      $G(n + 1, i) \; = 1 G(n, 2^{n + 1} - 1 - i) \quad n > 0, i \in [2^n, ...., 2^{n+1} - 1]$

      $G(1, 0) \qquad = 0$

      $G(1, 1) \qquad = 1$
      
Hex. cifra | Bin. vrednost | Grejev kod $n=1$ | Grejev kod $n=2$ | Grejev kod $n=3$ | Grejev kod $n=4$ |
:-:|:--:|:--:|:--:|:--:|:--:
 0 |0000| 0  | 00 |000 |0000
 1 |0001| 1  | 01 |001 |0001
 2 |0010|    | 11 |011 |0011
 3 |0011|    | 10 |010 |0010
 4 |0100|    |    |110 |0110
 5 |0101|    |    |111 |0111
 6 |0110|    |    |101 |0101
 7 |0111|    |    |100 |0100
 8 |1000|    |    |    |1100
 9 |1001|    |    |    |1101
 A |1010|    |    |    |1111
 B |1011|    |    |    |1110
 C |1100|    |    |    |1010
 D |1101|    |    |    |1011
 E |1110|    |    |    |1001
 F |1111|    |    |    |1000

* Neka je $A = a_{n-1} a_{n-2} ... a_1 a_0$ binardni broj i 
  $G = g_{n-1} g_{n-2} ... g_1 g_0$ odgovarajuci Grejov kod. Konverzija 
  izmedju njih je definisana na sledeci nacin
  * !Konvertovanje binarnog broja $A$ u odgovarajuci Grejov kod $G$:
    1. $g_{n-1} = a_{n-1}$
    2. $g_i = a_i \oplus a_{i + 1}, i \in [0, n-2]$
  * !Konvertovanje Grejovog koda $G$ u odgovarajuci binarni broj $A$:
    1. $a_{n-1} = g_{n-1}$
    2. $a_i = g_i \oplus a_{i + 1}, i \in [0, n-2]$

#### Cen-Ho kodiranje

* Tien Ci Cen i Irvin Ho (tien tien Chi Chen i Irving T. Ho 1971.)
* Varijanta Hofmanovog kodiranja
* Kodiranje tri dekadne cifre u 10 bita
* 20% efikasnije kodiranje od BCD zapisa
* Deli cifre na male (0-7) i velike (8, 9) na osnovu vrednosti prvog bita u 
  BCD kodu
* Male cifre zahtevaju tri bita, a velike jedan bit da bi se medjusobno 
  razlikovale
* Kodiranje razmatra svaku od kombinacija tri cifre
  * Sve tri cifre su male (51.2% slucajeva)
    * potrebno je 9 bitova za cifre ($3 + 3 + 3$) 
    * 1 bit da oznaci ovu kombinaciju
  * Dve cifre su male (38.4% slucajeva)
    * potrebno je 7 bitova za cifre ($3 + 3 + 1$) 
    * preostala 3 bita oznacavaju kombinaciju
  * Jedna cifra je mala (9.6% slucajeva)
    * potrebno je 5 bitova za cifre ($3 + 1 + 1$)
    * preostala 5 bita oznacavaju kombinaciju
  * Sve cifre su velike (0.8% slucajeva)
    * potrebno je 3 bita za cifre ($1 + 1 + 1$)
    * preostala 7 bita oznacavaju kombinaciju

#### Kodiranje gustim pakovanjem dekadnih cifara

* Mike Cowlishaw Densely Packed Decimal kodiranje
* Slicno Cen-Ho kodiraju, ali umesto Hofmanovog koda koristi drugacije 
  preuredjenje bitova
* Kodira tri dekadne cifre u 10 bita
* 20% efikasnije kodiranje od BCD zapisa
* Deli cifre ne male (0 - 7) i velike (8, 9) na osnovu vrednosti provg bita u 
  BCD kodu
* Male cifre zahtevaju tri bita a velike jedan bit da bi se medjusobno 
  razlkovale
* Kodiranje razumatra svaku od kombinacija tri cifre
  * Sve tri cifre su male (51.2% slucajeva)
    * potrebno je 10 bitova za cifre ($3 + 3 + 3$)
    * 1 bit za onaku kombinacije
  * Dve cifre su male (38.4% slucajeva)
    * potrebno je 7 bitova za cifre ($3 + 3 + 1$)
    * preostala 3 bita oznacavaju kombinacju
  * Jedna cifra je mala (9.6% slucajeva)
    * potrebno je 5 bitova za cifre ($3 + 1 + 1$)
    * preostalih 5 bitova oznacava kombinaciju
  * Sve cifre su velike (0.8% slucajeva)
    * potrebno je 3 bita za cifre ($1 + 1 + 1$)
    * preostalih 7 bitova oznacavaju kombinaciju

### Decimalna aritmetika

* Zonski zapis brojeva se obicno koristi pri I/O operacijama za direktno 
  unosenje brojeva
* Pri izvodjenju aritmetickih operacija koristi pakovani zapis
* Zapis binarno kodiranih brojeva u memoriji moze da pocne na bili kojoj 
  adresi

#### Promena znaka

* Binarno kodirani brojevi u racunaru zapisani su u obliku znak i apsolutna 
  vrednost
* Promena znaka se vrsi upisivanjem odgovarajuce vrednosti na mestu za znak
* Za broj $+82164$ koji je zapisan u pakovanom zapisu sa EBCDIC kodom promena 
  znaka se vrsi na sledeci nacin
  $$82164C \rightarrow 82164D$$

#### Sabiranje i oduzimanje

* Vaze opsta pravila za sabiranje i oduzimanje brojeva zapisanih u obliku 
  znak i apslolutna vrednost
* Ako je $n$ maksimalan broj cifara koji moze da se zapise u binarno 
  kodiranom dekadnom sisteumu prekoracenje kod sabiranja i oduzimanja moze da 
  nastane samo kada rezultat ima $n+1$ cifru
* Neka su $A$ i $B$ dekadni brojevi sa $n$ cifara 
  $A = a_{n-1} a_{n-2} ... a_1 a_0$ i $B = b_{n-1} b_{n-2} ... b_1 b_0$
* Neka je $\alpha$ funkcija kodiranja koja svakoj cifri u broju pridruzuje 
  binarnu kodiranu rec
  $$A_{\alpha} = \alpha (a_{n-1})\alpha (a_{n-2})...\alpha (a_1)\alpha (a_0)$$
  $$B_{\alpha} = \alpha (b_{n-1})\alpha (b_{n-2})...\alpha (b_1)\alpha (b_0)$$
* Koraci sabiranja:
  1. Odredi se medjurezultat $C'_{\alpha} = A_{\alpha} + B_{\alpha}$ tako sto 
     se svi parovi zifara sabiraju po pravilima za sabiranje neoznacenih 
     brojeva i cuva se prenos ukoliko postoji

  $$A_{\alpha} \quad = \quad \alpha (a_{n-1}) \quad \alpha (a_{n-2}) 
  \quad ... \quad \alpha (a_1) \quad \alpha (a_0)$$
  $$B_{\alpha} \quad = \quad \alpha (b_{n-1}) \quad \alpha (b_{n-2}) 
  \quad ... \quad \alpha (b_1) \quad \alpha (b_0)$$
  $$C'_{\alpha} \quad = \quad \alpha (c'_{n-1}) \quad \alpha (c'_{n-2}) 
  \quad ... \quad \alpha (c'_1) \quad \alpha (c'_0)$$
  2. Dobijeni medjurezultat $C'_{\alpha}$ se koriguje zbog specificnosti za 
     pisa binarno kodiranih dekadnih brojeva
     * Odredjuje se vrednost korekcije na osnovu prenosa i dobijenog zbira 
       cifara

  $$C'_{\alpha} \quad = \quad \alpha (c'_{n-1}) \quad \alpha (c'_{n-2}) 
  \quad ... \quad \alpha (c'_1) \quad \alpha (c'_0)$$
  $$K_{\alpha} \quad = \quad \alpha (k_{n-1}) \quad \alpha (k_{n-2}) 
  \quad ... \quad \alpha (k_1) \quad \alpha (k_0)$$
  $$C_{\alpha} \quad = \quad \alpha (c_{n-1}) \quad \alpha (c_{n-2}) 
  \quad ... \quad \alpha (c_1) \quad \alpha (c_0)$$

* Oduzimanje binarno kodiranih dekadnih brojeva moze da se realizuje na dva 
  nacina
  1. Po slicnom principu kao i sabiranje, pri cemu se u obe faze umesto 
     sabiranja vrsi oduzimanje brojeva
  2. Kao sabiranje brojeva u potpunom komplementu

#### Sabiranje i oduzimanje u kodu 8421

* !Funkcija kodiranje je definisana kao prevodjenje cifre u binarni 
  sistem, tj.
  $\alpha (c) \mapsto c_3c_2c_1c_0$, gde 
  $\forall x \in \{0, 1, 2, 3, 4, 5, 6, 7, 8, 9\}$ i vazi 
  $c = c_3 \times 2^3 + c_2 \times 2^2 + c_1 \times 2^1 + c_0 \times 2^0$, 
  $c_i \in \{0, 1\}, i \in [0, 3]$ 
* Oznake:
  * $\alpha {c'_i}$ - zbir dobijen sabiranjem kodova za dekadno cifarsko 
    mesto $i$
  * $p'_i$ - binarni proces izmedju zbirova $\alpha (c'_i)$ i 
    $\alpha (c'_{i+1})$ u medjurezultatu prve faze sabiranja
  * $\alpha (k_i)$ - korekciju na dekadnom cifarskom mestu $i$
  * $p''_i$ - binarni prenos u drugoj fazi sabiranja sa dekadnog cifarskog 
    mesta $i - 1$ na dekadno cifarsko mesti $i$. Vazi $p''_0 = 0$
* Druga faza se izvodu u $n$ koraka. Sabiranje se vrsi zdesna u levo; 
  postupak u $i$-tom koraku je sledeci
  1. Odredjuje se privremeni zbir $t_i = \alpha (c'_i) + p''_i$
  2. Na osnovu vrednosti $t_i$ i $p'_i$ odredjuje se korekcija $\alpha (k_i)$
  3. Krajnja vrednost $\alpha (c_i)$ se dobija kao zbir $t_i + \alpha (k_i)$. 
     Pri tome se odredjuje i $p''_{i+1}$
* !Korekcija medjurezultata je:
  1. $p'_{i+1} = 1 \implies \alpha (k_i) = (0110)_2$ 
     * Posto postoji prenos izmedju dekadnih cifarskih mesta u prvoj fazi, 
       vrednost binarnog prenosa sa cifarskog mesta $i$ na mesto $i + 1$ je 
       $16_{10}$ dok je vrednost dekadnog prenosa izmedju ovde dve pozicije 
       $10_{10}$ pa je onda korekcija razlika ta dva broja 
       $\alpha (k_i) = 16_{10} - 10_{10} = 6_{10} = (0110)_2$
  2. $t_i \geq (1010)_2 \implies \alpha (k_i) = (0110)_2$ 
     * Posto je dobijena vrednost veca od koda najvece dekadne cifre, mora da 
       usledi prenos na naredno dekadno cifarsko mesto $i+1$
  3. $\alpha(k_i) = (0000)_2$
     * Korekcija nije potrebna kada je dobijena vrednost korektno 
       predstavljena
* !Prekoracenje se javlja kada je $p'_n = 1$ ili $p''_n = 1$
* Oduzimanje se realizuje slicno kao sabiranje ili kao sabiranje brojeva u 
  potpunom komplementu
  1. U prvoj fazi kodovi se posmatraju kao neoznaceni binarni brojevei sa 
     $4 \times n$ cifara i oduzimanju po pravilima neoznacenih brojeva
  2. U drugoj fazi se posmatraju grupe $\alpha(c'_i)$ od cetiri koje 
     odgovaraju dekadnim cifarskim mestima. Konacan rezultat se dobija kada 
     se izvrsi oduzimanje $C_{\alpha} = C'_{\alpha} - K_{\alpha}$
     * !Korekcija za cifarsko mesto $i$ je $\alpha(k_i) = (0110)_2$ ako je 
       bilo prenosa (oduzimanja 1) izmedju dekadnih cifarskih mesta u 
       prethodnom oduzimanju, u suprotnom korekcija je 
       $\alpha(k_i) = (0000)_2$
    
#### Sabiranje i oduzimanje u kodu visak 3

* !Funkcija kodiranje je definisana kao prevodjenje cifre u binarni 
  sistem, tj.
  $\alpha (c) \mapsto c_3c_2c_1c_0$, gde 
  $\forall x \in \{0, 1, 2, 3, 4, 5, 6, 7, 8, 9\}$ i vazi 
  $c = c_3 \times 2^3 + c_2 \times 2^2 + c_1 \times 2^1 + c_0 \times 2^0-3$, 
  $c_i \in \{0, 1\}, i \in [0, 3]$ 
* Prva faza je nezavisna od funkcije kodiranja tako da se primenjuje 
  prethodni algoritam
* Druga faza se izvodi u $n$ koraka gde je $n$ maksimum broja cifara dekadnih 
  brojeva koji se sabiraju. 
* Sabiranje se vrsi zdesna u levo; postupak u $i$-tom koraku je:
  1. Na osnovu vrednosti $p'_{i+1}$ odredjuje se korekcija $\alpha (k_i)$
  2. Krajnja vrednost $\alpha (c_i)$ se dobija kao zbir 
     $\alpha (c'_i) + \alpha (k_i)$
     * Pojava prekoracenja (prenosa) u ovoj fazi sabiranja se ignorise
* !Korekcija:
  1. $p'_{i+1} = 1 \implies \alpha (k_i) = (0011)_2$
     * Posto je postojao prenos izmedju dekadnih cifarskih mesta sa cifarskog 
       mesta $i$ na mesto $i+1$ je $16_{10}$ dok je dekadna vrednost prenosa 
       izmedju ovde dve pozicije $10_{10}$.
     * Poziciju $i$ anulira visak 3 od obe dekadne cifre, i da bi rezultat 
       bio korektan treba dodati $3_{10} = (0011)_2$ 
  2. $p'_{i+1} = 0 \implies \alpha (k_i) = (1101)_2$
     * Prenos sa ove pozicije na narednu ne postoji tako da je akumuliran 
       visak 6 u odnosu na prethodni kod, zbog toga treba oduzeti 3 da bi 
       zapis bio korektan
     * Pa je korekciona konstanta u potpunom komplementu 
       $\alpha (c'_i) = -3_{10} = -(0011)_2 = (1101)_2$
* !Prekoracenje pri sabiranju se javlja kada je $p'_n = 1$

## Realni brojevi i aritmetika

### Realni brojevi u nepokretnom zarezu

* Odredjeni broj cifara pre i posle zareza
* Moguce greske
  1. Nekorektno smestanje tacke osvnove
     * Ako je za zapis nekog broja petrebno 16 bitova, a moguce je samo 
       zapisati 15 bitova, zadnji bit tog broja se odbacuje
  2. Nekorektno skaliranje pri aritmetickim operacijama
  3. Ogranicena preciznost

### Realni brojevi u pokretnom zarezu

* Predstavlja se pomocu osnove $\beta$ (koja je uvek parna) i preciznosti $p$
  * $\beta = 10, p = 4$: broj $0.4$ se predstavlja ka $4.000 \times 10^{-1}$
  * $\beta = 2, p = 10$: broj $0.4$ se predstavlja ka 
    $1.100110011 \times 2^{-2}$
* Opsti slucaj $\pm d_0. d_1 d_2 ... d_{p-1} \beta^e$
  * $d_0. d_1 d_2 ... d_{p-1}$ - *znacajni deo* (significand)
  * $\beta$ - *osnova*
  * $e$ - *eksponent*
  * $p$ - *preciznost*
* Ako je $d_0 != 0$ nazva se *normalizovan* // todo

### Zapis brojeva u pokretnom zarezu kroz istoriju

1. Znak broja, Uvecan eksponent, Frakcija
2. Eksponent u potpunom komplementu, Frakcija (u potpunom komplementu)
3. Znak broja, Frakcija, Ignorise se, Nastavak frakcije, Znak eksponenta, 
   Eksponent

#### Primer zapisa sa binarnom osnovom - PDP-11, VAX-11

* Bit za znak, Uvecani eksponent 8 bitova, Frakcija 23 bita

Vrednost | Znak | Eksponent | Frakcija
--------:|------|-----------|--------------------
$+15 =$  | 0    | 10000100  | 111000000000000000
$-15 =$  | 1    | 10000100  | 111000000000000000
$+1/64 =$| 0    | 01111111  | 000000000000000000
$0 =$    | 0    | 00000000  | 000000000000000000

  $$vrednost = znak\ frakcija \times 2^{eksponent}$$

* Za velicinu eksponenta *e* vazi $-2^7 \leq e \leq 2^7 -1$
* Za vrednost $s$ kojom se predstavlja funkcija vazi 
  $2^{-1} \leq |s| \leq 1 - 2^{-24}$
* Na osnovu prethodnog, mogu se zapisati brojevi u intervalu 
  $2^{-1} \times 2^{-128} \leq |x| \leq (1 - 2^{-24}) \times 2^{+127}$
* Medjutim, kako vazi da je kod za broj $2^{-1} \times 2^{-128}$ 
  predsavlja 0, opseg je $2^{-128} \leq |x| \leq (1 - 2^{-24}) \times 
  2^{+127}$, odnosno $2.9 \times 10^{-39} < |x| < 1.7 \times 10^{+38}$
* Dvostruka tacnost
  * Bit za znak, Uvecani eksponent 8 bitova, Frakcija + Poduzetak frakcije 55 
    bitova
* Interval realnih brojeva koji mogu da se predstave u dvostrukoj tacnosti je 
  $2^{-128} \leq |x| \leq (1 - 2^{-56}) \times 2^{+127}$

### Zapis brojeva u pokretnom zarezu pomocu binarne osvnove - IEEE754

* Karakteristike:
  1. Slaba prenosivost numericki intenzivnih programa
  2. Postoje razlike u rezultatima u izvrsavanjeu istog programa na ralicitim 
     racunarskim sistemima
  3. IEEE 754 poboljsava prenosivot programa popisujuci
     * algoritme za operacije sabiranja, oduzimanja, mnozenje, deljenja i 
       izracunavanje kvadratnog korena
     * nacin njihove implementacije
     * nacine zaokruzivanja i ponasanja u granicnim slucajevima
* Problemi
  1. Zaokruzivanje
     * $\beta = 10, p = 3$. Neka je rezultat izracunavanja 
       $5.76 \times 10 ^ {-2}$, matematicki tacna vrednost je 0.0574. Greska 
       zapisa je velicine $2 \ times jedinicna vrednost na poslednjem mestu 
       zapisa broja$
     * $0.0574367 \mapsto 5.74 \times 10^{-2}$ - gdeska je 0.367
     * Velicina 'jedinica na poslednjem mestu' je *ulp*
     * Ako broj $d_0.d_1...d_{p-1} \times \beta^e$ predstavlja broj $z$, tada 
       je greska u zapisu $|d_0.d_1...d_{p-1} - (z/\beta^e) | \beta^{p - 1}$ 
       ulp-a;
     * *Relativna greska* je apsolutna vrednost razlike izmedju realnog broja 
       i njegove reprezentacije podeljena sa apsolutnom vrednoscu realnog 
       broja.
     * Ako je realan broj zapisan sa greskom od $n\ ulp-a$, tada je broj 
       cifara obuhvatacenih greskom $\log_{\beta} n$, a ako je relativna 
       greska $n \epsilon$ tada je broj obuhvacenih cifara $\log_{beta} n$
  2. Cifre cuvari
     * Potrebno je dodati dodatnu cifru da bi rezultat bio tacniji
  3. Tacno zaokruzene operacije
     * na najblizu vrednost ($4.48 \mapsto 3.5$,\\todo )
* Opis standarda:
\\todo
* Klase podataka propisane IEEE standardom:
  * **Normalni brojevi**
  * **NaN**
  * **Beskonacno**
  * **Oznacena nula**
  * **Subnormalni brojevi**
* Zasto dekadna osnova?
  * Ljudi racunaju u dekadnom sistemu
  * Finansijske i komercijalne aplikacije
  * Oko $55%$ numerickih podataka u bazama podataka su dekadni podaci, a od 
    preostalih jos $43%$ su celi brojevi
  * Tradicionalan nacin rada sa celobrojnom aritmetikom
* Predstavljanje brojeva u dekadnoj osnovi
  1. Softverski
  2. Hardverski
     * Pomocu BCD zapisa
     * Pomocu zapisa realnih brojeva u pokretnom zarezu pomocu dekadne 
       osnove (IEEE 754)
* Zapis u registrima racunara
  * Treba zapisati u prostoru iste velicine kao i pri zapisu realnih brojeva 
    u pokretnom zarezu pomocu binarne osnove
  * Zapis treba da bude u obliku znak, frakcija i eksponent
  * Zapis treba da bude moguc u jednostrukoj, dvostrukoj, i cetvorstrukoj 
    tacnosti
  * Zapis treva da bude takav da omoguci tacno zapisavanje dekadnih cifara 
    bez konverzije
  * Preciznost zapisa treba da bude uporediva sa preciznoscu zapisa dekadnih 
    brojeva pomocu binarne osnove
* Probleme pri tom zapisu
  * Nedovoljan prostor
  * Predvideti zapis specijalnih vrednosti
  * Treba definisati pravila za izvodjenje operacija
* Osnovni formati zapisa
  1. Tri formata zapisa sa binarnom osnovom sa preslikavanjem vrednosti u 32, 
     64 i 128 bita.
  2. Dva formata zapisa sa dekadnom osnovom sa preslikavanjem vrednosti u 64 
     i 128 bita.

#### Formati za razmenu podataka zapisanih pomocu binarne osnove

1. Znak broja $S$ velicine 1 bit
2. Uvecani eksponent $E = e + uvecanje$ zapisan u $w$ bita
3. Ostatak $T = d_1 d_2 ... d_{p-1}$ znacajnog dela broja zapisan u dizuni 
   $t = p - 1$ bita
   * Vodeci bit $d_0$ znacajnog dela broja je implicitno zaposan u uvecanom 
     eksponetnu $E$

// todo

$$vrednost = znak 1.frakcija \times 2^{eksponent}$$

#### Formati za razmenu podataka zapisanih pomocu dekadne osnove

* **Kogorte**
  * Realan broj moze imati vise reprezentacija u zapisu pomocu dekadne osnove
  * Skup razlicitih reprezentacija u koje se preslikava broj u pokretnom 
    zarezu naziva se *kohorte*
* **Enkodiranje**
  1. Znak broja $S$ velicine 1 bit
  2. Polje za kombinacuju $G$ velicine $w + 5$ bita
  3. Frakcija, ostatak znacajnog dela broja $T$ velicine $t = J \times 10$ 
     bita

Vrednost | Znak | Kombinacija | Nastavak frakcije
--------:|:----:|:-----------:|:------------------
+15 =    | 0    | 01000 100101|0000 0000 0000 0001 0101
-15 =    | 1    | 01000 100101|0000 0000 0000 0001 0101

* Znak = +
* Eksponent = 0 (=101 - 101)
* Frakcija $(15)_{10}$ = 0000 0000 0000 0001 0101
* Vrednost = $+15 \times 10^0 = +15_{10}$
$$vrednost = znak \text{ } frakcija \times 10^{exponent}$$

## Zapis brojeva pomocu ostatka

### Brojcani sistemi sa ostacima

### Modularna aritmetika

### Multiplikativni inverz

* $A^{-1}$ je multiplikativni inverz broja $A$ u odnosu na moduo $m$ ako vazi:
  $$| A \times A^{-1} |_m = 1$$
* Resava se pomocu diofanske jednacine
  $$A \times x = m \times y + 1$$
  
#### Deljenje

1. Najslozenje od osnovnih aritmetickih operacija
2. Problemi i oko definisanja
3. Nula nema multiplikativni inverz
4. Uobicajna definicija deljenja: $c = a/b$. Odavde $a = c \times b$

### Izbor modula

1. Mogu se uzeti bili koji celi brojevi
2. Vazna je efikasnost izvrsavanja operacija
3. Muduli trebaju da budu sto je moguce manje, zbog brzine izvodjenja 
   aritmetickih operacija
4. Zbog poredjenja modula po velicini sa najvecim, nije prednost upotreba 
   jednog velikog i velikog broja malih modula
5. Pozeljno je da muduli budu predstavljenji pomocu sto manje moguceg broja 
   bitova

### Prevodjenje brojeva

**Prevodjenje brojeva iz dekadnog sistema u RBS**

* $(A)_{10} = (A)_N = (a_n|a_{n-1}|\ldots|a_1)_{RBS(m_n|m_{n-1} | 
  \ldots | m_1)}$, gde vazi $a_i = A \mod m_i = |A|_{m_i}, 
  a_i \in [0, m_i - 1], i \in [1, n]$

**Prevodjenje brojeva iz binarnog sistema u RBS**

**Prevodjenje brojeva iz RBS u dekadni sistem**

**Prevodjenje brojeva iz RBS u binarni sistem**

### Poredjenje brojeva u RBS

* Direktno poredjenje nije moguce
  * $62 = (6|6|2|2)_{RBS(8|7|5|3)}$ i $67 = (3|4|2|1)_{RBS(8|7|5|3)}$
* Koriste se prevodjenje iz RBS u brojcanom sistemu sa promenljivom osnovom
  * $62 = (0|4|0|2)_{BSPO(8|7|5|3)}$ i $67 = (0|4|2|1)_{BSPO(8|7|5|3)}$
* Koristi se aproksimativno dekodiranje pomocu kineske teoreme o ostacima

### Prednosti i nedostaci brojcanog sistema sa ostacima

* Nedostaci
  1. Slozenost za implementaciju
  2. Relativno losa efikasnost testiranja znaka broja i prevodjenja velicine 
     brojeva, prekoracenja i deljenja
* Prednosti
  1. Ne postoji problem prenosa izmedju pozicija pri sabiranju i mnozenju
  2. Cifre su male cak i za velike brojeve
     * Operacije mogu da budu vrlo brze ako se realizuju preko predefinisanih 
       tabela
  3. Aritmetika je jednostavna i brza
  4. Mogucnost izolacije pojedinacnih cifara koje mogu da imaju gresku
* Primena
  1. U aplikacijama koje zahtevaju otpornost na greske
  2. U aplikacijama u kojima se uglavnom koriste mnozenje i sabiranje
  3. Pri obradi digitalnih signala
  4. U aplikacijama koje treva da preduzmu odredjenu vrstu akcije u slucaju 
     pojave greske u racunarskim sistemima
  5. U nekim aplikacijama u oblasti telekomunikacije

# Otkricanje i korekcija gresaka

* Dva pristupa:
  1. *Kontrola greske unapred*, svaki blok podataka koji se salje sadrzi 
     dodatne informacije. Na osnovu ovih informacija primalac moze da otkrije 
     i ispravi gresku
  2. *Kontrola greske unatrag* ili *kontrola sa povratnom spregom*, svaki 
     blok podataka koji se salje sadrzi samo osnove informacije. Primalac 
     otkriva gresku
* Broj dodatnih bitova brzo raste sa porastom duzine podataka koji se prenose.
  1. Metod sa kontrolom greske unatrag je najcesce koriste u telekomunikaciji
  2. Metod sa kontrolom greskom unapred se koristi pri cuvanju podataka

## Metoda za otkrvanje gresaka 

* Faktori:
  1. Broj bitova sa greskom (bit error rate, BER)
  2. Tipa greske, tj. da li se greska javlja na pojedinacnom bitu ili na gupi 
     uzastopnih bitova.

### Kontrola parnosti

* Kontrola parnosti ili horizontalna provera redundance, LRC (Longitudal 
  Redundance Ckecking)
* Uz datu $n$-bitnu rec dodaje se jos jedan bit tako da ukupan broj binarnih 
  jedinica u rezultujucoj reci duzine $n + 1$ bude paran (neparan)

### Kontrola parnosti u dve dimenziji

* Vertikalna provera redundanci, VRC(Vertical Redundancy Checking)

Bitovi parnosti | ASCII kod | Karakteri
---------------:|:---------:|:---------
    0           | 1000 0010 | B
    0           | 1000 0111 | G
    0           | 0000 0101 | rec parnosti

### Kontrola zbira blokova

* Ako je poruka duza od jednog bajta, tada se za otkrivanje gresaka moze 
  primetniti metod sa kontrolom zbira blokova (checksum)
  1. formira se zbi svih jedinica u bloku i prenose zajedno sa porukom
  2. vrsi se skracivanje dobijenog zbira
  3. primalac ponovo izracunava sumu zbira i poredi sa primljenom vrednoscu
* Nedostaci, ne moze da otkrije:
  * invertovane podatke
  * zamenu blokova bajtova
  * dodavalje i uklanjanje bajtova sa svim nulama

### Ciklicka provera redundanci

* Metoda ciklicke provere redunanci (Cyclic Redundancy Ckecking) otkrivanje 
  prosirenih gresaka
  1. Aritmetika u polju celih brojeva po modulu 2
  2. Deljenje se vrsi po modulu 2
* U CRC metodi niz bitova se posmatra kao niz koeficijanata polinoma
  * Tako niz $a_n a_{n-1} \ldots a_0$ odgovara polinomu 
    $M(x) = a_n x^n + a_{n-1} x^{n-1} + \cdots + a_0$
* Kodiranje
  1. Odabrati polinom generatora $G(x)$
  2. Izracunati $x^k M(x) / G(x)$, gde je $k$ stepen polinoma $G(x)$. 
     Dobijeni ostatak se oznacava sa $R(x)$
  3. Dodatni koeficijente ostatka na kraj poruke i poruku proslediti primaocu
* Dekodiranje
  1. Podeliti primljenu polinomijalnu kodu rec sa $G(x)$
  2. Ako je ostatak deljenja nula, nema gresaka pri prenosu
  3. Ako ostatak deljenja nije nula, greske pri prenostu postoje
* Primeri koji se koriste
  * CRC-16
  * CRC-CCITT
  * CRC_CCITT

## Metoda za otkrivanje i korekciju gresaka

* Greske se mogu podelite u dve kategorije
  1. Tvrdi ili stalno pristuni defekti
  2. Mekane ili prolazne greske

### Hamingov kod

### Sindrom rec

* Sindrom rec se dobije poredjenjem dve K-bitne vrednosti bit po bit 
  uzimaljem ekskluzivne disjunkcije
* Sindom rec je neoznacen ceo broj duzine K koji ima vrednost izmedju 0 i 
  $2^K - 1$
* Vrednost 0 oznacava da nema gresaka u zapisu
* Stale $2^K - 1$ vrednosti odredjuju mesto greske
* kako greska moze da se javi na bilo kom od M bitova podataka i K bitova 
  koji se koriste u proveri, mora da vazi $2^K - 1 \geq M + K$
* Sindom rec ima sledece karakteristike
  * Ako su svi bitova u njoj 0 tada nije otkrivena nikakva greska
  * Ako u reci postoji tacno jedan 1, tada greska postoji u jednom od 4 bita 
    za proveru, dok je zapis podatka u redi i ne zahteva nikakvu korekciju
  * Ako sindom sadrzi vise od jednog bita koji ima vrednost 1, tada vrednost 
    sindrom rec posmatrane kao ceo neoznacen broj odredjuje poziciju na kojoj 
    se nalazi greska.
    * Korekcija se sastoji u komplmentiranju vrednosti odgovarajuceg bita 
      podataka

# Globlana struktura racunarskog sistema

## Fon Nojamanova masina

* Delovi fon Nojmanovog izvestaja
  * Svaki racunar vrsi osnovne aritmeticke operacije (sabiranje, oduzimanje, 
    mnozenje i deljenje). Kao posevan deo treba da postoji *centralna 
    aritmeticki* (eng. *central arithmetical*) organ, CA racunara.
  * Mora da postoji razlika izmedju specificnih instrukcija koje definisu 
    pojedinacni problemi i opstih za nadgledanje kako se izvode te specificne 
    istrukcije. Pod *centralnim upravljanjem* (eng. *central control*), CC 
    podrazumeva taj organ za nadgledanje.
  * Uredjaj koji izvodi dugacak i komplikovan niz operacija mora da ima
    odgovarajucu memoriju. *Memorija* (eng. *memory*), M cini treci 
    specificni deo racunara.
  * C i M odgovaraju neuronima ljludskog nervnog sistema. Dok *ulazne* i 
    *izlazne* organi odgovaraju senzorima i motorike neurona. Uredjaj sa 
    specificnim medojumom tog tipa. Taj medijum je medijum za spoljasnje 
    *snimanje* (eng. *recording*) uredjaja R.
  * Uredjaji koji prenose informacije od R ka specificnim delovima C i M, 
    formiraju cetvrti specificni deo racunara, *ulaz*, I.
  * Uredjaji koji prenose informacije od C i M u R, formiraju peti specificni
    deo racunara, *izlaz* O.
![Struktura IAS racunara](img/ias_struct.jpg){width=250px}
![Prosirena struktura IAS racunara](img/ias_expanded.png){width=250px}
* Analogije izmedju coveka i masine.
* U danasnjoj terminologiji aritmeticko-logicka jedinica i upravljacka 
  jedinica cine jednu celoni koja se naziva *centralna procesorka jedinica* 
  (eng. *CPU*)
* Karakteristike IAS racunara:
  * 1000 lokacija u memoriju koje su nazvane *rec*
  * rec je sadrzala 40 binarnih cifara
  * u memoriji su cuvane instrukcije i podaci
    * brojevi su bili predstavljeni u binarnom obliku
      * 1 bit za znak, 39 bita za vrednost
    * instrukcije su bile predstavljene u binarnom kodu
      * 2 instrukcije u jednoj reci
      * 8 bita za operacije i 12 bita za adresu reci u memoriji
* Centralni procesor je sadrzao *registre*:
  * *Prihvatni registar memorije* (PRM)
    * sadrzi rec koja je trebalo da se sacuva u memoriji
  * *Registar memorijskih adresa* (RMA)
    * adresa reci u memoriji iz koje je trebalo preneti sadrzaj u/iz PRM
  * *Instrukcioni registar* (IR)
    * 8-bitni kod operacije koja se trenutno izvrsava
  * *Prijemni registra instrukcija* (PRI)
    * prvremeno cuva instrukcije iz desne polovine reci
  * *Brojac instrukcija* (PC)
    * cuva adresu sledeceg para instrukcija koje je trebalo preneti iz 
      memorije.
  * *Akumulator* (AC) i *Mnozilaz/Delilac* (MQ)
    * privremeno cuva operacije i rezultate operacija koje su izvodjene u 
      aritmeticko-logickoj jedinici
* IAS je instrukcije izvrsava u *instrukcionim ciklusima*:
  * *Ciklus pripreme*
    * operacioni kod naredne instrukcije se smesta u IR
    * adresni deo smesta u RMA
  * *ciklus izvrsavanje*
    * upravljacka jedinica interpretita operacioni kod instrukcije i salje 
      odgovarajuce kontrolne signale koji oznacavaju da treba preneti podatke 
      ili izvrsiti operaciju od strane ALU.
* IAS racunar ima 21 masinsku instrukciju koje su bile podeljenju u pet grupa:
  1. *instrukcije za prenso podatak*
  2. *instrukcije bezuslovnog grananja*
  3. *instrukcije uslovnog grananja*
  4. *aritmeticke instrukcije*
  5. *instrukcije za modifikaciju adrese*
* Pri opisu znacenja instrukcija iz naredne tabele koriscena je sledeca 
  notacija:
  * $S(L)$ oznacava sadrzaj lokacije $L$
  * $X \rightarrow Y$ oznacava upisivanje vrednosti $X$ u lokaciju $Y$
  * $| X |$ oznacava apsolutnu vrednost $X$

## Izgled savremenog racunarskog sistema

* Najveci broj savremenih racunara je zasnovan na fon Nojmanovoj arhitekturu
  1. Racunarski sistem poseduje jednu memorji u kojoj se cuvaju podaci i 
     instrukcije
  2. Memorija recunara je adresibilna po lokacijama kojima se moze pristupiti 
     bez obzira kakav im je sadrzaj
  3. Izvrsavanje instrukcija se izvodi strogo sekvencijalno, sem ukoliko 
     drugacije nije eksplicito naglaseno
![Savremeni racunarski sistem](img/modern_computer_system.jpg)

## Sistem prekida

* Sistem prekida predstavlja mehaniza koji omogucuje efikasan rad racunara.
* U/I program cine tri komponente:
  * Niz instrukcija koji vrsi pripremu tekuce U/I operacije.
  * Stvarna U/i komanda. U njoj se izdvaja komanda uredjaju koji obavlha 
    zahtevanu akciju.
  * Niz istrukcija koji kompletira zahtevanu operaciju.
* U visekorisnickom sistemu u istom trenutku moze da se javi vise prekida 
  koje su generisani razliciti programi ili uredjaji.
  1. Onemogucavanje prekida
  2. Definisanje priroriteta prekida

## Brzina obrade podataka

* Broj masinskih instrukcija u sekundi koje CPU moze da obradi. Jedinica je 
  MIPS (eng. *millions of instructuions per secnud*):
  * Intel Pentium II mikroprocesor ($400MHz$) ima oko 830 MIPS-a
  * Intel Pentium 4 mikroprocesor ($1.5GHz$) ima oko 1700 MIPS-a
  * Intel Pentium 4 mikroprocesor ($2GHz$) ima oko 3900 MIPS-a
  * IBM PowerPC 750CX mikroprocesor ($400MHz$) ima oko 930 MIPS-a
  * Motorola PowerPC MPC7450 mikroprocesor ($733MHz$) ima oko 1300 MIPS-a
  * Motorola PowerPC MPC7457 mikroprocesor ($1GHz$) ima oko 2310 MIPS-a
  * Intel Core 2 Extreme QX9770 mikroprocesor ($1GHz$) oko 177000 MIPS-a
  * IBM Z196 mikroprocesor ($5.2GHz$) oko 1200 MIPS-a 
* Brzina superracunara se meri u FLOPS-ima (eng. *floating point operations 
  per secund*)
  * CRAY-1 imao je brzini od 165 MFLOPS-a
  * IBM ASCI White ima brzinu od 12.3 TFLOPS-a
  * IBM Roadrunner ima przinu od 1.105 PFLOPS-a
  * CRAY Jagura XT5 ima brzinu od 1.1059 PFLOPS-a
  * NUDT Tianhe-2 ima brzinu od 33.862 PFLOPS-a
* Drugi nacin merenja brzine racunara je vreme potrebno za izvrsavanje jendog 
  instrukcionog ciklusa.

# Centralni procesor

## Organizacija centralnog procesora

* Glavne komponente CPU-a su aritmeticko-logicka jedinica ALU i upravljacka   
  jedinica CU
* Savremeni mikroprocesori razvijaju i funkcionalne jedicnice
* Proces izvrsavanja instrukcija ukljucuje:
  * dohvatanje instrukcije i njenu interpretaciju
  * obezbedjivanje argumenata instrukcije
  * cuvanje vrednosti dobijenih pri izvrsavanju
  * odredjivanje naredne instrukcije koja se izvrsava

![Struktura CPU-a](img/cpu_struct.png){width=250px}

* Globalne funkcije funkcionalnih jedinica mikroprocosora su:

Skracenica | Naziv i opis
-:|:------------
BCEU       | *Branch Control Element Unit*. Koristi se pri obradi zahteva za podacima i instrukcijama iz kes memorije, prevodjenje virtualnih u apsolutne adrese, pri implementaciji preklapanja instrukcija...
IU         | *Instruction Unit*. Ova jedinica se koristi za dekodiranje instrukcija i odredjivanje njihovih komponenti
AGU        | *Adress Generation Unit*. Koristi se za generisanje adresa koje treba sacuvati ili sa kojih treba napuniti vrednosti.
LSU        | *Load/Store Unit*. Korisit se za prijem i cuvanje podataka pri njihovom citanju/upisu u L1 kes podatke. Tadkoje obezbedjuje poravnanje, konverziju izmedju zapisa brojeva razlicitih duzina, kao i normalizaciju brojeva u pokretnom zarezu.
FX ALU     | *FiXed point ALU*. Vrsi operacija sa brojevima u fiksom zarezu kao i logicke operacije.
FP ALU     | *Floating Point ALU*. Vrsi operacije sa brojevima u pokretnom zarezu.
DC         | *Data Cashe*. Kes na nivou 1 za podatke.
IC         | *Instruction Cashe*. Kes na nivou 1 za instrukcije.
L2I        | *Cashe Level 2 Interface*. Veza ka kesu na nivou 2. Obicno ukljucuje i odredjene kontrolne naredbe.
L2C        | *Level 2 Cashe*. Nalazi se van CPU-a i sa njim je povezan posebnom magistralom.

* Jedicnice su povezane internim vezama koje se nazivaju 
  *interne magistrale procesora*.

### Registri

* Registri se prema nameni mogu podeliti na:
  1. Registre opste namene
  2. Specijalizovane registre
* **Registri opste namene**
  * Koriste se za razlicite funkcije
  * Korisnik moze da pristupi, cita i menja njihov sadrzaj
  * U zavisnosti od dizajna procesora i odgovarajuceg masinskog jezika, opsti
    registi se mogu dodatno podeliti prema nameni na:
    * *Akumlatore*. Koriste se za:
      * aritmeticko-logicke operacije
      * cuvanje znakovnih podataka
    * *Indeks registre*. Koriste se za:
      * indeksno adresiranje
    * *Pokazivace segmenata*
      * sadrze pocetnu adresu segmenta na racunarima sa segmentnim 
        adresiranjem
    * *Pokazivace steka*
      * pokazuju na pocetak memorije koja je odredjena za stek
* **Specijalizovani registri**
  * Koriste se pri izracunavanju operacija, njihovoj kontorli...
  * Nisu direktno dostupni korisniku programa
  * Neke koriste samo programi operativnih sistema, dok su drugi dostupni 
    samo na nivou mikro koda.
  * Neki specijalni registri i njihove funkcije:
    * *Intstrukcioni registar* IR
      * sadrzi poslednju procitanu instrukciju
    * *Registar memorijskih adresa* RMA
      * sadrzi adresu u memoriji iz koje treba prenete sadrzaj u PRM ili 
        obrnuto
    * *Prihvatni registar memorije* PRM
      * sadrzi rec koja je poslednja procitana iz memorije ili koju treba 
        upisati u memoriju na adresu koja je sadrzana u RMA
    * *Brojac instrukcija* PC
      * sadrzi adresu sledece instrukcije koju treba preneti na precesor
    * *Registar koji sadrzi status programa koji se izvrsava* PSW
      * sadrzi informacije koje se odnese na program koji se trenutno 
        izvrsava:
      * Uslovne kodove (*Contdition codes*, CC) pri izvrsavanju 
          aritmetickih i logickih operacija
      * Postojanje prenosa pri aritmetickim operacijama
      * Prekoracenje pri aritmetickim opracijam i vrstu podataka nad kojima 
          je doslo do prekoracenja
      * Prekoracenje i potkoracenje pri izvrsavanju operacija nad realnim 
          brojevima u ne-IEEE 754 zapisu
      * Indikatore da li je dozvoljen prekid kao i tip podataka koji je 
          dozovoljen
      * Indikator da li je tekuci program u supervizorskom ili korisnickom
          rezimu rada
      * Indikator da li je tekuca adresa realna ili je potrebno 
          preracunavati adrese iz programa da vi se dobile realne adrese
      * Indikator da li je CPU u stanju cekanja kada ne izvrsava ni jednu 
          instrukciju
    * *Kontrolni registar pri izvrsavanju operacija u pokretnom zarezu* FPC
      * sadrzi informacije vezane za izracuvanjanje u pokretnom zarezu
    * *Kontrolne registre* koji sadrze specificne informacije za svaku masinu

## Mikroprocesori

* *Mikroprocesor* - cip koji sadrzi CPU kao i malu kolicinu memorije koja se 
  koristi za specijalne nemene

## Tehnologija izrade mikroproceosora

**Tranzisotri**

* Uredjaj sa tri zavrsna prikljucka koja u racunaru moze da ima funkciju ili
  prekidaca ili pojacivaca
* Sastoji se od tri sloja poluprovodnickog materijala koji moze da provodi 
  elektrucnu struju
* Obicno se kao poluprovodnik uzima silicijum ili germanijum
* Poluprovodnik dobija specijalna svojstva pomocu hemijskog procesa u kome
  se mesa sa posebnim materijalom koji sadrzi visak ili manjak elektorna
* ako ima visak elektrona oznacava se kao negativan (N)
* ako ima manjak elektrona oznacava se kao pozitivan (P)
* najceske korisceni *bipolarni* i *FET* tranzistori
* **Bipolarni trazistori**
  * cine ga dva para PN spojenih dioda koje su smestene jedna uz drugu
  * Posotje dva tipa bipolarnih tranzistora:
    1. Tranzistori sa PNP konfiguracijom, kod kojih je izmdju dva P-sloja 
       poluprovodnika smesten jedan N-sloj poluprovodnika
    2. Tranzisotri sa NPN konfiguracijom, kod kojih je izmdju dva N-sloja
       poluprovodnika smesten jedan P-sloj poluprovodnika
  * Tri osnove koje sacinjavaju sendvic nazivamo redom *kolektor*, *osnova* i
    *emitor*
* **FET tranzistori**
  * *Tranzistor sa efektom polja* (eng. *Field Effect Transistor* FET) zasniva
    se na drugacijem principu od bipolarnih tranzistora
  * Elektrode FET tranzistora se nazivaju *izvor*, *vatra* i *odvod*.
* **CMOS tehnologija**
  * U CMOS tranzistorima ako su na metalna vrata primeni niska voltaza,   
    prekidac se zatvara i propsta elektricitet. 
  * U slucaju primene visoke voltaze, prekidac ostaje otvoren
* **Cipovi**
  * Cipovi se mogu grupisati u tri kategorije:
    * mikroprocesorski cipovi
    * memorijski cipovi
    * logicki cipovi koji kontrolisu rad magistrale racunara, diskove i druge 
      razlicite vrste uredjaja
* **Litografija**
  * Umnozavanje matrice na ploce od silicijuma (silicijumske oblande)
  * Matrica koja se prenosi sadrzi strukturu kompletnog cipaa ukljucujuci 
    tranzistore, njihove spojeve i ostale strukture
  * Koristi se fotootpornik sastavljen od polimera
  * Sa svaki sloj na cipu se na povrsini silicijumske oblande nanosi po jedan 
    sloj fotootpornika
  * Laserski zrak deluje na tofootpornik i rastvara osvetljene delove
  * Na kraju procesa preostali fotootpornik se uklanja pomocu organskog 
    rastovra, dok silicijumska oblanda ostaje sa narazanom zeljenom strukturom
    na povrsni
* **Jos neke tehnologije izradnje brzih cipova**
  * Tehnologija sa bakarnim vezama
  * Niski K-dielektrik
  * Grafen
  * Ugljenicne nanocevi

## CISC i RISC arhitekture mikroprocesora

* Karakteristike ponasanja CISC procesora i programa:
  * Naredbe koje su se najcesce javljale u programima su bile naredbe dodele,
    uslovna naredba i poziv potprograma.
  * Referisanje na operande se obavlja kao referisanje na lokalne skalarne 
    vrednosti. 
  * Pri pozivu procesora oko 98% procedura je pronosilo manje od 6 argumenata,
    a cak kod 92% procedura su ti argumenti bili lokalni
* Tri nacina za poboljsanje performansi:
  1. *Povecanje broja registara*. 
  2. Poboljsanje dizajna *preklapanja instrukcija*.
  3. *Smanjen broj osnovnih instrukcija*.
* Osobine RISC procesora:
  1. Izvrsavanje jedne masinske instrukcije za jedan masinski ciklus
  2. Najveci borj masinskih operacija je tipa registar-u-registar
  3. Upotreba relativno malog broja nacina adresiranja
  4. Upotreba jednostavnih formata instrukcija
* Prednosti RISC procesora u odnosu na CISC procesore:
  1. Jednostavnija konstrukcija
  2. Bolje performanse

## Casovnik, rec i magistrala

* Brzinu i snagu 'tradicionalnih' cipova odredjuju tri velicine:
  * brzina casovnika
  * velicina reci
  * sirina magistrale
* *Brzina casovnika* 
  * odnosi se na ritam sistemskog casovnika koji je obicno smesten na 
    mikroprocesorski cip.
  * meri se u megahercima (MHz), pri cemu je 1MHz ekvivalentan milion pulseva
    u sekundi
* **Magistrala** (eng. *bus*) je veza kojom se prenose elektronski impulsu 
  koji formiraju bitove u mikroprocesor i sistemsku jedinicu
  1. Magistrala adresa (eng. *address bus*) prenosi signale koji se koriste
     za odredjivanje adrese u primarnoj memoriji
  2. Magistrala podataka (eng. *data bus*) prenosi podatke od/ka primarnoj
     memoriji
  3. Magistrala kontrole (eng. *control bus*) prenosi signale koji kazu 
     racunaru da 'cita' ili 'pise' podatke sa ili na odredjenu memorijsku 
     adresu ulazni ili izlazini uredjaj.

## Primeri mikroprocesorskih arhitektura

* **Struktura S/390 i mikroprocesora z serije**
  * Cip je integrisan na procesorskoj ploci
    * *Single-Chip-Module* (SCM)
    * *Multi-Chip-Module* (MCM)
  * Na modulu se nalaze cipovi
    * sa procesorskim jedinicama (PU) koji mogu da budu:
      * centralni procesori (CP)
      * pomocni procesori (eng. *System Assist Processor*) (SAP)
      * procesori za interni rad u paru (eng. *Internal Coupling Facility*) 
        (ICF)
      * procesori sa internom podrskom za Linux (eng. *Internal Facility for
        Linux*)
    * cipove za kontrolu momorije (eng. *Storage Control*) (SC)
    * cipove za memorisanje podataka (eng. *Storage Data*) (SD)
    * cip sa casovnikom (eng. *clock*)
    * cipove sa adapterom za memorijsku magistralu (eng. *Memory Bus Adapter*)
      (MBA)
    * procesore za kripto-zastitu (eng. *Crypto Processor*) (CRP)
    * cip sa mikrokodom (eng. *Integrated Firmware Processor*) (IFP)
    * *z Application Assist Processor* (zAAP)
    * *z Integrated Information Processor* (zIIP)

# Masinske instrukcije

## Karakteristike masinskih instrukcija

* Skup razlicitih masinskih instrukcija koje mogu da se izvrsavaju na nekom 
  procesoru se naziva *skup instrukcija proceosra*
* Informacije potrebne za uspesno izvrsavanje ukljucuju:
  1. *Operacioni kod instrukcija* koji definise operaciju koja ce biti 
     izvrsena
  2. *Reference na operande instrukcije*
  3. *Referencu na narednu instrukciju* koja treba da se prenose u procesoru 
     po zavrsetku izvrsavanja tekuce instrukcije

### Format instrukcija

* Sve instrukcije imaju slican format
  * Na pocetku instrukcije se nalazi operaconi kod, a za njim slede 
    operandi instrukcije
    * Operacioni kod | Operand1 | Operand2
* Operandi se zadaju na razlicite nacine:
  * Preko svojih adresa
  * indirektnim adresiranjem
  * neposrednim navodjenjem
* Mnemonicke oznake za operacione kodove se definisu za skup instrukcija 
  svakog od procesora:

80x86 | PowerPC | S/390 | Znacenje
------|---------|-------|---------
ADD   | add     | A     | Sabira vrednosti operanda
SUB   | subf    | S     | Oduzima vrednosti operanda
MUL   | mullw   | M     | Mnozi vrednosti operanda
AND   | and     | N     | Logicko AND nad vrednosti operanda
LDS   | ld      | L     | Punjenje podataka iz memorije

* Podalu skupa instrukcija moguce je izvesti po operaciji koja je zadata 
  instrukcijom. 
* Skup instrukcija moze da sadrzi vise razlicitih instrukcija za jednu istu 
  operaciju koje se primenjuju u zavisnosti od tipa operanda.
* Podelu formata instrukcija moguce je napraviti i prema vrsti  broju 
  njihovih operanda. 
* Instrukcije u istoj grupi imaju istu duzinu, broj operanda i korisceni 
  nacin adresiranja.

### Tipovi instrukcija

* Instrukcije se mogu grupisati i po vrsti operacije koja se izvrsava 
  njihovim pozivanjem. Instrukcije se dele na
  1. Aritmeticke
  2. Logicke
  3. Instrukcije za konverziju
  4. Instrukcije za prenos podataka
  5. Ulazno/izlazne instrukcije
  6. Kontrolne instrukcije
  7. Instrukcije za prenos kontrole

### Broj adresa u instrukciji

* Podela prema maksimalnom broju adresa koji mogu da se pojave u instrukciji
* Racunari koji imaju maksimalno jendu adresu u instrukcijama se nazivaju
  *jednoadresni*, dve *dvoadresni* i tri *troadresni*
* Posmatramo izvrsavanje aritmetickog izraza: $F = (A + B + C) * (D + E)$

Jednoadresni racunar | Dvoadresni racunar | Troadresni racunar
---------------------|--------------------|----------------------
LOAD A               | LOAD R1, A         | ADD R, A, B
ADD B                | ADD R1, B          | ADD R, R, C
ADD C                | ADD R1, C          | ADD F, D, E
STORE F              | LOAD R2, D         | MULL F, F, R
LOAD D               | ADD R2, E          |         
ADD E                | MR R1, R2          | 
MUL F                | STORE R1, F        |
STORE F              |                    |


## Nacin adresiranja

* Za navodjenje adresa operanda koriste se razlicite tehnike poznate pod
  nazivom *nacini adresiranja*
* Najcesce se koriste:
  1. registarsko adresiranje
  2. direktrno adresiranje
  3. indirekntno adresiranje
  4. registarsko indirektno adresiranje
  5. adresiranje sa referencom i udaljenjem
  6. neposredno adresiranje
  7. implicitno adresiranje
* Radi ilustracije ovih nacina adresiranja ovodim oznake:
  * A - Sadrzaj adresnog polja u instrukciji
  * SA - Stvarna adresa lokacije koja sadrzi operand
  * R - Sadrzaj opsteg registra koji se javlja u instukciji
  * (I) - Sadrzaj lokacije 1, pri cemu 1 moze da predstavlja lokaciju u 
    memoriji
  * B - Bazni registar
  * X - Indeks registar
  * PC - Brojac instrukcija
* Nacin adresiranja odredjuje algoritam po kome se izracunava stvarna adresa
* Stvarna adresa moze da oznacava registar, realnu ili virtualnu memoriju
* Svi racunari koriste bar jedan od nacina adresiranja
  1. Upotreba razlicitih operacionih kodava za istu operaciju sa razlicitim 
     nacinima adresiranja (np. A i AR za sabiranje)
  2. Upotreba *indikatora modifikacije* koji predstavlja jedan ili vise 
     bitova u samoj instrukciji cije vrednosti oznacavaju nacin adresiranja
* *Registarsko adresiranje*
  * oznaka koji sadrzi operand je ukljucena u instrukciju
  * stvarna adresa se odredjuje kao SA = A
* *Direktno adresiranje*
  * stvarna adreesa direktno ukljucuje u instrukciju SA = A
  & adrese koje se javljaju u instrukcijama sa se nazivaju *apsolutne adrese*
* *Indirektno adresiranje*
  * adresa operanda se navodi indirektrno preko adrese lokacije na kojoj se 
    nalazi adresa operanda
  * SA = A
  * zahteva dva memorijska ciklusa, jedan za citanje adrese lokacija i drugi
    za citanje samog operanda
* *Inderektno registarko adresiranje*
  * u adresnom polju instrukcije nalazi oznaka registra, a ne adresa lokacije 
    u memorija. 
  * SA = (R)
* *Adresiranje sa referencom i udaljenjem*
  // todo
* *Neposredno adresiranje*
  * operand se nalazi u adresnom delu instrukcije
  * operand = A
* *Implcitno adresiranje*

## Masinski i asemblerski jezici

* *Masinski jezik* - skup instrukcija procesora koji poseduje semanticku 
  interpetaciju u hardveru ili mikrokodu racunara
* Za programe koji su pisani sa menmonickim oznakama instrukcija uz 
  koriscenje relativnog adresiranja se kaze da su pisani u *asemblerskom 
  jeziku*.
* Program koji vrsi prevodjenje progrma sa asemblerskom jeziku na masinskom 
  jeziku racunara se naziva *asembler*.
* Naredne tabele prikazujem izvrsavanje naredbe $A = B + C * D$ u binarnom, 
  heksadekadnom, simbolickom, i asemblerskom porgramu

Adresa | Sadrzaj (binarno)
-------|------------
51     | 0001 0001 1000 0101
53     | 0011 0001 1000 0111
55     | 0010 0001 1000 0011
57     | 0100 0001 1000 0001
81     | 0000 0000 0000 0000
83     | 0000 0000 0000 1010
85     | 0000 0000 0001 0100
87     | 0000 0000 0001 1110

Adresa | Sadrzaj (heks.)
-------|------------
51     | 1185
53     | 3187
55     | 2183
57     | 4181
81     | 0000
83     | 000A
85     | 0014
87     | 001E

Adresa | Simb. kod | Operandi
-------|-----------|--------
51     | LOAD      | 1.85
53     | MUL       | 1.87
55     | ADD       | 1.83
57     | STORE     | 1.81
81     | INT       | 0
83     | INT       | 10
85     | INT       | 20
87     | INT       | 30

Labele | Asemb.    | Operandi
-------|-----------|--------
START  | LOAD      | 1.85
 .     | MUL       | 1.87
 .     | ADD       | 1.83
 .     | STORE     | 1.81
  A    | INT       | 0
  B    | INT       | 10
  C    | INT       | 20
  D    | INT       | 30

### Pozivi potprograma

* Uproscen redosled akcija pri pozivu potprograma obuhvata:
  1. Odredjivanje adrese potprograma koga treba pozvati
  2. Odredjivanje i pripremu argumenata potprograma koji se poziva
  3. Cuvanje svih relativnih parametara trenutnog stanja programa koji se 
     izvrsava
  4. Specificiranje adrese na koju se vrsi povratak iz potprograma
  5. Izvrsavanje instrukcije skoka kojom se izvrsavanje prenosi na naredbu 
     potprograma.
  6. Izvrsavanje potprograma
  7. Izvrsavanje naredbe povratka na zahtevanu adresu u pozivajucem programu
* Argumenti i rezultati potprograma se mogu preneti u opstem slucaju na tri 
  nacina
  1. preko opstih registara
  2. upisivanjem u odredjenu zonu memorije cija adresa se prenosi preko 
     opstih registara
  3. putem steka, zajedno sa adresom povratka
* *Reentrant* potprogrami su potprogrami ciji se kod ne menja pri njihovom 
  izvrsavanju.

## Smestanje podataka u memoriji

### Redosled smestanja bajtova

* Pri zapisivanju visebajtnih skalarnih vrednosti u momoriji moguca su dva
  pristupa:
  * Bajt najvece tezine se upisuje u bajt sa najmanjom adresom u momoriji.
    Za ovaj nacin zapisa koristi se nazim *sa levog kraja* (big-endian)
  * Bajt najmanje tezine se upisuje u bajt sa najmanjom adresom u momoriji.
    Za ovaj nacin zapisa koristi se nazim *sa desnog kraja* (little-endian)
* U oba slucaja se preostale vrednostu upisuju kontinuirano

 nacin | 101 | 102 | 103 | 104
-------|-----|-----|-----|------
I      | 12  | 34  | 56  | 78
II     | 78  | 56  | 34  | 12

* Prednosti i mane svakog od nacina zapisa su:
  * Sa desnog kraja
    * Aritmeticke operacije koje zahtevaju vecu preciznost sa jednostavnije
      obavljaju jer se lakse odredjuje bajt najmanje tezine
    * Konverzija 32-bitne u 16-bitnu celobrojnu adresu je jednostavnija jer
      ne zahteva dodatne operacije za izdvajanje bitova najmanje tezine
  * Sa levo kraja
    * Brze poredjenje karaktera niski koje su zapisane tako da po poravnanju
      odgovaraju celobrojnim vrednostima
    * Calobrojne vrednosti i karakter niske se zapisuje konzistentno
    * pri pregledu zadrzaja memorije u slucaju otkrivanja gresaka sve 
      vrednosit se stampaju sleva na desno

### Redosled smestaja bitiova

* Ne postoji jedinstven nacin smestanja bitova unutar bajta

nacin           |
----------------|------------
sa desnog kraja | 7 6 5 4 3 2 1 0
sa levog kraja  | 0 1 2 3 4 5 6 7

* ne postoji ni konzistentno oznacavanje rednog broja pocetnog bita (0 ili 1)


### Redesled smestanja bitova

# Memorija

## Karakteristike memorije

* stalnost zapisa - da li zapisivanje ostaje ili nakon gubitka napona se gubi
* jedinica prenosa
* Adresivnost - prostupanje memoriju pomocu adrese
  * adresive - moguce je pristupanje bajtu ili reci
  * poluadresive - prostupa se vecoj grupi bajtova
  * neadresive - nije moguce pristupanje sadrzaju
* Moguci nacini pristupa
  1. Sekvencijalni pristup - podeljenost na slogove 
  2. Direktan pristup
  3. Slucajni pristup
  4. Asocijativni pristup (pr. kes)
* Cena
* Performanse
  1. Vreme pristupe
  2. Vreme memorijskog ciklusa
  3. Brzina prenosa
* Mogucnost promene sadrzaja

### Hijerarhija memorije

![Hijerarhija memorije](img/memory.png){width=400px}

## Unutrasnja memorija

### Glavna memorija

#### RAM memorija

* *Staticka* RAM memorija
  * cuvanje podataka koristi flip-flop kombinatorne mreze
* *Dinamicka* RAM memorija
  * celije koje cuvaju vrendosti kao naboje u kondenzatorima

#### Kes memorija

1. L1 kes
2. L2 kes
3. L3 kes
4. L4 kes

## Spoljasnja memorja

* Po nestanku elektricnog napajanja ne gubi se sadrzaj

### Magnetni diskovi

* Formatiranje - proces upisa staza, sektora i kontrolnih podataka na disk

#### Formatiranje diska

1. Formatiranje niskog nivoa
2. Logicko formatiranje

#### Karakteristike diska

* Broj glava
* Jednostrani/dvostrani
* Fiksni/izmenjivi
* Vreme pristupa disku
  * Vreme trazenja
  * Rotaciono kasnjenje
* Opseg diska

#### RAID tehnologija

* RAID (Redundant Array of Independent Disks)
* RAID ima vise nivoa

### Opticki diskovi

* Cuvanje i vitanje podataka se izrvsava na dva nacina:
  1. Mehanizam konstantne ugaone brzine
  2. Mehanizam konstantne linearne brzine
* Opticki diskovi se dele u tri grupe
  1. Nasnimljeni i sadrzaj se ne moze menjati
  2. Korisnik moze jednom da upise neki sadrzaj i posle toga se ne moze 
     menjati
  2. Diskovi ciji sadrzaj moze da se upisuje i brise bez ogranicenja

#### CD diskovi

#### DVD diskovi

### Magnetne trake

# Ulazno/izlazni podsistem

* Obezbedjuju vezu racunara sa korisnikom

## U/I moduli

* Periferni urejdaji koji sluze da se povezu na racunarski sistem
* Komunicira sa procesorom
* Razlog povezivanja
  * performanse
* Glavne funkcije U/I modula
  1. Kontrola i uskladjivanje saobracaja
  2. Komunikacija sa procesorom
  3. Komunikacija sa uredjajima
  4. Prihvatanje podataka
  5. Otkrivanje gresaka
* Port - ako uredjaj komunicira sa racunarom preko veze u samo jednoj tacki

## Tehnike izrsavanje U/I operacija

* **Programirani U/i**
* **Prekidima upravljan U/I**
* **DMA** - direktan pristup memoriji
* **U/I procesori i kanali**

# Viseprocesorksi sistemi

## Klasifikacija
 
* Prema broju procesora:
  1. Jednoprocesorski
  2. Specijalizovani procesori
  3. Labavo vezani procesorski sistemi
  4. Cisto vezani procesorski sistemi
  5. Sistemi sa paralelnom obradom podataka
* Prema broju instrukcija i broju tokova podataka
  1. SISD (*Single Instruction Single Data*)
     * Jedan procesor i serijsko izvrsavanje instrukcija
  2. SIMD (*Single Instruction Multiple Data*)
     * Jedna jedinica za obradu instrukcija i vise jedinica za obradu podataka
  3. MISD (*Multiple Instruction Single Data*)
     * Izvrsavaju razlicite instrukcije nad istim podacima
  4. MIMD (*Multiple Instruciton Multiple Data*)
     * Izvrsavaju razlicite instrukcije nad razlicitim podacima

## Karakteristike viseprocesorski sistema

1. Dva ili vise slicna procesora opste nameri
2. Svi procesori dele zajednicu unutrasnju memoriju
3. Komunikacija izmedju procesora se vrsi preko deljene memorije
4. Losije performanse, zbog sporog pristupa memoriji
5. Svi procesori dele isti skup U/I uredjaja
6. Svi procesori u sistemu su pod kontrolom jednog istog operativnog sistema
7. Vise procesorski sistemi najceste imaju centralnu upravljacku jedinicu

### SIMD

* Racunari sa deljenom memorijom
* Racunari sa distributivnom memorijom

## Veza izmedju elemenata

## Sistemi sa parelelnom obradom podataka

* SMP
* MPP
* SPP

## Super-racunari

* najveca respoloziva brzina obrade
* najveca moguca velicine memorije
* najveca fizicka dimenzija
* najveca cena
